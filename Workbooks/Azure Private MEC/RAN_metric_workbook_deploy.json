{
  "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "resourceName": {
      "type": "string",
      "defaultValue": "PMEC Site Overview with RAN Metrics",
      "metadata": {
        "description": "The unique name for this workbook template instance"
      }
    }
  },
  "resources": [
    {
      "name": "[parameters('resourceName')]",
      "type": "microsoft.insights/workbooktemplates",
      "location": "[resourceGroup().location]",
      "apiVersion": "2019-10-17-preview",
      "dependsOn": [],
      "properties": {
        "galleries": [
          {
            "name": "PMEC Site Overview with RAN Metrics",
            "category": "Private MEC",
            "order": 100,
            "type": "workbook",
            "resourceType": "microsoft.mobilenetwork/mobilenetworks/sites"
          }
        ],
        "templateData": {
          "version": "Notebook/1.0",
          "items": [
            {
              "type": 9,
              "content": {
                "version": "KqlParameterItem/1.0",
                "parameters": [
                  {
                    "id": "1830d553-9a94-4f2f-89d4-203cdbbd67b1",
                    "version": "KqlParameterItem/1.0",
                    "name": "timespan",
                    "label": "Timespan",
                    "type": 4,
                    "isRequired": true,
                    "typeSettings": {
                      "selectableValues": [
                        {
                          "durationMs": 300000
                        },
                        {
                          "durationMs": 900000
                        },
                        {
                          "durationMs": 1800000
                        },
                        {
                          "durationMs": 3600000
                        },
                        {
                          "durationMs": 14400000
                        },
                        {
                          "durationMs": 43200000
                        },
                        {
                          "durationMs": 86400000
                        },
                        {
                          "durationMs": 172800000
                        },
                        {
                          "durationMs": 259200000
                        },
                        {
                          "durationMs": 604800000
                        },
                        {
                          "durationMs": 1209600000
                        },
                        {
                          "durationMs": 2419200000
                        },
                        {
                          "durationMs": 2592000000
                        },
                        {
                          "durationMs": 5184000000
                        },
                        {
                          "durationMs": 7776000000
                        }
                      ],
                      "allowCustom": true
                    },
                    "timeContext": {
                      "durationMs": 86400000
                    },
                    "value": {
                      "durationMs": 86400000
                    }
                  },
                  {
                    "id": "5fea996a-8057-4839-8cee-2e4734de8e49",
                    "version": "KqlParameterItem/1.0",
                    "name": "site",
                    "label": "Site",
                    "type": 5,
                    "description": "Select the Mobile Network Site to view",
                    "isRequired": true,
                    "isHiddenWhenLocked": true,
                    "typeSettings": {
                      "additionalResourceOptions": [],
                      "showDefault": false,
                      "componentIdOnly": true
                    },
                    "timeContext": {
                      "durationMs": 86400000
                    }
                  },
                  {
                    "id": "c8c68811-cc98-4a0c-8859-db1dc5a5ea35",
                    "version": "KqlParameterItem/1.0",
                    "name": "mobilenetwork",
                    "label": "Mobile Network",
                    "type": 5,
                    "description": "Select the Mobile Network to view",
                    "isRequired": true,
                    "query": "resources\r\n| where resourceGroup =~ \"{site:resourceGroup}\"\r\n| extend mobileNetworkName=split(\"{site:id}\", \"/\")[8]\r\n| where id =~ strcat(\"/subscriptions/{site:subscriptionId}/resourceGroups/{site:resourceGroup}/providers/microsoft.mobileNetwork/mobilenetworks/\", mobileNetworkName)\r\n| project id, selected=true",
                    "crossComponentResources": [
                      "value::all"
                    ],
                    "isHiddenWhenLocked": true,
                    "typeSettings": {
                      "additionalResourceOptions": [],
                      "showDefault": false
                    },
                    "timeContext": {
                      "durationMs": 86400000
                    },
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources"
                  },
                  {
                    "id": "a60083e2-69aa-4e66-84c0-0432dac9fae0",
                    "version": "KqlParameterItem/1.0",
                    "name": "pccp",
                    "label": "Packet Core",
                    "type": 5,
                    "isRequired": true,
                    "query": "resources\r\n| where type =~ \"microsoft.mobilenetwork/packetcorecontrolplanes\"\r\n| where properties.sites[0].id =~ \"{site}\"\r\n| project id, selected=\"true\"",
                    "crossComponentResources": [
                      "value::all"
                    ],
                    "typeSettings": {
                      "additionalResourceOptions": [],
                      "showDefault": false
                    },
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources"
                  },
                  {
                    "id": "e4eab5c1-b34d-4c73-af83-1b3dedeeaf37",
                    "version": "KqlParameterItem/1.0",
                    "name": "ase",
                    "type": 5,
                    "query": "resources\r\n| where id =~ \"{pccp:id}\"\r\n| project id = properties.platform.azureStackEdgeDevice.id, selected=\"true\"",
                    "crossComponentResources": [
                      "value::all"
                    ],
                    "isHiddenWhenLocked": true,
                    "typeSettings": {
                      "additionalResourceOptions": []
                    },
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources"
                  },
                  {
                    "id": "5a9431ad-55d9-4711-a482-552add6e428b",
                    "version": "KqlParameterItem/1.0",
                    "name": "kubernetesCluster",
                    "type": 5,
                    "query": "resources\r\n| where id =~ \"{pccp:id}\"\r\n| extend customLocationId = tostring(properties.platform.customLocation.id)\r\n| join (\r\n    resources\r\n    | where type =~ \"Microsoft.ExtendedLocation/customLocations\"\r\n    | extend clusterId = tostring(properties.hostResourceId)\r\n    | extend customLocationId = id\r\n) on customLocationId\r\n| project id=clusterId, selected=\"true\"",
                    "crossComponentResources": [
                      "value::all"
                    ],
                    "isHiddenWhenLocked": true,
                    "typeSettings": {
                      "additionalResourceOptions": [],
                      "showDefault": false
                    },
                    "timeContext": {
                      "durationMs": 86400000
                    },
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources"
                  },
                  {
                    "id": "f295991b-ce56-4fee-9ace-19362ae51da8",
                    "version": "KqlParameterItem/1.0",
                    "name": "pcmeExtensionId",
                    "type": 5,
                    "isRequired": true,
                    "query": "resources\r\n| where id =~ \"{pccp:id}\"\r\n| extend customLocationId = tostring(properties.platform.customLocation.id)\r\n| join (\r\n    resources\r\n    | where type =~ \"Microsoft.ExtendedLocation/customLocations\"\r\n    | extend clusterId = tostring(properties.hostResourceId)\r\n    | extend customLocationId = id\r\n) on customLocationId\r\n| project id=strcat(clusterId, \"/providers/Microsoft.KubernetesConfiguration/extensions/packet-core-monitor\"), selected=\"true\"",
                    "crossComponentResources": [
                      "value::all"
                    ],
                    "isHiddenWhenLocked": true,
                    "typeSettings": {
                      "additionalResourceOptions": [],
                      "showDefault": false
                    },
                    "timeContext": {
                      "durationMs": 86400000
                    },
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources"
                  },
                  {
                    "id": "b32b808b-77d2-48e5-a124-abba432a1919",
                    "version": "KqlParameterItem/1.0",
                    "name": "siteLowerCase",
                    "type": 1,
                    "query": "resources\r\n| where id =~ \"{site:id}\"\r\n| project tolower(id)",
                    "isHiddenWhenLocked": true,
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources"
                  },
                  {
                    "id": "26a68b92-87ee-469f-9dbe-30cd22308ef3",
                    "version": "KqlParameterItem/1.0",
                    "name": "subscriberLimit",
                    "type": 1,
                    "query": "resources\r\n| where id =~ \"{pccp:id}\"\r\n| extend sku=tostring(properties.sku)\r\n| extend skuMaxSubscribers = iff(sku==\"G0\", \"20\", iff(sku==\"G1\", \"100\", iff(sku==\"G2\", \"200\", iff(sku==\"G5\", \"500\", iff(sku==\"G10\", \"1000\", \"Unknown\")))))\r\n| project [\"Subscriber Limit\"]=skuMaxSubscribers",
                    "isHiddenWhenLocked": true,
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources"
                  },
                  {
                    "id": "cebfba8f-6dff-4cf9-9942-47e196dc0519",
                    "version": "KqlParameterItem/1.0",
                    "name": "nodeBLimit",
                    "type": 1,
                    "query": "resources\r\n| where id =~ \"{pccp:id}\"\r\n| extend sku=tostring(properties.sku)\r\n| extend skuMaxRans = iff(sku==\"G0\", \"2\", iff(sku==\"G1\", \"5\", iff(sku==\"G2\", \"10\", iff(sku==\"G5\", \"999999\", iff(sku==\"G10\", \"999999\", \"Unknown\")))))\r\n| project [\"Connected NodeBs Limit\"]=skuMaxRans",
                    "isHiddenWhenLocked": true,
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources"
                  },
                  {
                    "id": "ef617596-e3e1-4135-9d1a-373e213dd6f6",
                    "version": "KqlParameterItem/1.0",
                    "name": "nodeBLimitText",
                    "isHiddenWhenLocked": true,
                    "type": 1,
                    "criteriaData": [
                      {
                        "criteriaContext": {
                          "leftOperand": "nodeBLimit",
                          "operator": "==",
                          "rightValType": "static",
                          "rightVal": "999999",
                          "resultValType": "static",
                          "resultVal": "(Unlimited)"
                        }
                      },
                      {
                        "criteriaContext": {
                          "operator": "Default",
                          "resultValType": "expression",
                          "resultVal": "/ {nodeBLimit}"
                        }
                      }
                    ]
                  }
                ],
                "style": "pills",
                "queryType": 0,
                "resourceType": "microsoft.resourcegraph/resources"
              },
              "name": "parameters - 5"
            },
            {
              "type": 11,
              "content": {
                "version": "LinkItem/1.0",
                "style": "tabs",
                "links": [
                  {
                    "id": "71387e0c-1aef-470d-9c2b-8547d436bd83",
                    "cellValue": "tab",
                    "linkTarget": "parameter",
                    "linkLabel": "Overview",
                    "subTarget": "overview",
                    "style": "link"
                  },
                  {
                    "id": "b0410882-1d0e-4d3f-b898-6580eaf8e54d",
                    "cellValue": "tab",
                    "linkTarget": "parameter",
                    "linkLabel": "Subscriber Provisioning Information",
                    "subTarget": "provisioningInfo",
                    "style": "link"
                  },
                  {
                    "id": "0fa1acdc-4410-4326-9f47-8520c97ef13a",
                    "cellValue": "tab",
                    "linkTarget": "parameter",
                    "linkLabel": "Packet Core Control Plane Procedures",
                    "subTarget": "pccpMetrics",
                    "style": "link"
                  },
                  {
                    "id": "45388586-1709-47ac-97e6-96bbbe374ff5",
                    "cellValue": "tab",
                    "linkTarget": "parameter",
                    "linkLabel": "Azure Stack Edge Status",
                    "subTarget": "aseStatus",
                    "style": "link"
                  },
                  {
                    "id": "45465017-75d4-49c4-9b90-c9402c8750ab",
                    "cellValue": "tab",
                    "linkTarget": "parameter",
                    "linkLabel": "RAN Health & Metrics",
                    "subTarget": "ranMetrics",
                    "style": "link"
                  }
                ]
              },
              "name": "links - 10"
            },
            {
              "type": 9,
              "content": {
                "version": "KqlParameterItem/1.0",
                "parameters": [
                  {
                    "id": "0e94a530-6927-4d0c-b037-763f7aa87a40",
                    "version": "KqlParameterItem/1.0",
                    "name": "ran",
                    "label": "RAN resource",
                    "type": 5,
                    "description": "Status of RANs for the deployment",
                    "isRequired": true,
                    "query": "resources\r\n| where type =~ \"microsoft.mobilenetwork/radioaccessnetworks\"\r\n| where properties.site.id =~ \"{site}\"\r\n| project id, selected=\"true\"",
                    "typeSettings": {
                      "additionalResourceOptions": [],
                      "showDefault": false
                    },
                    "queryType": 1,
                    "resourceType": "microsoft.resourcegraph/resources"
                  }
                ],
                "style": "pills",
                "queryType": 1,
                "resourceType": "microsoft.resourcegraph/resources"
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ranMetrics"
              },
              "name": "parameters - 24"
            },
            {
              "type": 1,
              "content": {
                "json": "## RAN Health"
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ranMetrics"
              },
              "name": "text - 18"
            },
            {
              "type": 12,
              "content": {
                "version": "NotebookGroup/1.0",
                "groupType": "editable",
                "items": [
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbook4e8f0f07-e93f-409e-ad27-3b99e2bed328",
                      "version": "MetricsItem/2.0",
                      "size": 3,
                      "chartType": -1,
                      "resourceType": "microsoft.mobilenetwork/radioaccessnetworks",
                      "metricScope": 0,
                      "resourceParameter": "ran",
                      "resourceIds": [
                        "{ran}"
                      ],
                      "timeContext": {
                        "durationMs": 900000
                      },
                      "timeGrain": "PT15M",
                      "metrics": [
                        {
                          "namespace": "microsoft.mobilenetwork/radioaccessnetworks",
                          "metric": "microsoft.mobilenetwork/radioaccessnetworks-Traffic-OnlineStatus",
                          "aggregation": 3,
                          "splitBy": "APIdentifier",
                          "splitBySortOrder": -1,
                          "splitByLimit": 50,
                          "columnName": "Online Status"
                        }
                      ],
                      "title": "Access Point Status",
                      "gridFormatType": 1,
                      "tileSettings": {
                        "titleContent": {
                          "formatter": 1
                        },
                        "subtitleContent": {
                          "columnMatch": "Segment",
                          "formatter": 1
                        },
                        "leftContent": {
                          "columnMatch": "Value",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "icons",
                            "thresholdsGrid": [
                              {
                                "operator": "==",
                                "thresholdValue": "1",
                                "representation": "success",
                                "text": "Up"
                              },
                              {
                                "operator": "==",
                                "thresholdValue": "0",
                                "representation": "3",
                                "text": "Down"
                              },
                              {
                                "operator": "<=",
                                "thresholdValue": "0.5",
                                "representation": "3",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "representation": null,
                                "text": "{0}{1}"
                              }
                            ]
                          },
                          "numberFormat": {
                            "unit": 0,
                            "options": {
                              "style": "percent",
                              "useGrouping": false,
                              "maximumFractionDigits": 2,
                              "maximumSignificantDigits": 3
                            },
                            "emptyValCustomText": "No status data found on RAN",
                            "missingSparkDataOption": "Average"
                          }
                        },
                        "showBorder": false,
                        "size": "auto"
                      },
                      "showOpenInMe": true,
                      "timeBrushParameterName": "timebrush",
                      "gridSettings": {
                        "rowLimit": 10000
                      }
                    },
                    "conditionalVisibility": {
                      "parameterName": "tab",
                      "comparison": "isEqualTo",
                      "value": "ranMetrics"
                    },
                    "showPin": true,
                    "name": "metric - 11 - Copy"
                  },
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbook4e8f0f07-e93f-409e-ad27-3b99e2bed328",
                      "version": "MetricsItem/2.0",
                      "size": 3,
                      "chartType": -1,
                      "resourceType": "microsoft.mobilenetwork/radioaccessnetworks",
                      "metricScope": 0,
                      "resourceParameter": "ran",
                      "resourceIds": [
                        "{ran}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "timeGrain": "PT15M",
                      "metrics": [
                        {
                          "namespace": "microsoft.mobilenetwork/radioaccessnetworks",
                          "metric": "microsoft.mobilenetwork/radioaccessnetworks-Traffic-ConnectionSuccessRate",
                          "aggregation": 4,
                          "columnName": "Connection Success Rate"
                        }
                      ],
                      "title": "Connection Success Rate",
                      "gridFormatType": 1,
                      "tileSettings": {
                        "titleContent": {
                          "formatter": 1
                        },
                        "subtitleContent": {
                          "columnMatch": "Segment",
                          "formatter": 1
                        },
                        "leftContent": {
                          "columnMatch": "Value",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "icons",
                            "thresholdsGrid": [
                              {
                                "operator": "!=",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "representation": "success",
                                "text": "{0}{1}"
                              }
                            ]
                          },
                          "numberFormat": {
                            "unit": 1,
                            "options": {
                              "style": "decimal",
                              "useGrouping": false,
                              "maximumFractionDigits": 2,
                              "maximumSignificantDigits": 3
                            },
                            "emptyValCustomText": "No connection attempts",
                            "missingSparkDataOption": "Average"
                          }
                        },
                        "secondaryContent": {
                          "columnMatch": "Timeline",
                          "formatter": 9,
                          "formatOptions": {
                            "palette": "redGreen"
                          },
                          "numberFormat": {
                            "unit": 0,
                            "options": {
                              "style": "percent"
                            }
                          }
                        },
                        "showBorder": false,
                        "size": "auto"
                      },
                      "showOpenInMe": true,
                      "timeBrushParameterName": "timebrush",
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Subscription",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Name",
                            "formatter": 5,
                            "formatOptions": {
                              "linkTarget": "Resource"
                            }
                          },
                          {
                            "columnMatch": "Metric",
                            "formatter": 0,
                            "numberFormat": {
                              "unit": 0,
                              "options": {
                                "style": "decimal"
                              }
                            }
                          },
                          {
                            "columnMatch": "Aggregation",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Value",
                            "formatter": 1
                          },
                          {
                            "columnMatch": "Timeline",
                            "formatter": 9,
                            "formatOptions": {
                              "palette": "redGreen"
                            }
                          }
                        ],
                        "rowLimit": 10000,
                        "sortBy": [
                          {
                            "itemKey": "Metric ID",
                            "sortOrder": 1
                          }
                        ]
                      },
                      "sortBy": [
                        {
                          "itemKey": "Metric ID",
                          "sortOrder": 1
                        }
                      ]
                    },
                    "customWidth": "33",
                    "conditionalVisibility": {
                      "parameterName": "tab",
                      "comparison": "isEqualTo",
                      "value": "ranMetrics"
                    },
                    "showPin": true,
                    "name": "metric - 11 - Copy - Copy"
                  },
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbook4e8f0f07-e93f-409e-ad27-3b99e2bed328",
                      "version": "MetricsItem/2.0",
                      "size": 3,
                      "chartType": -1,
                      "resourceType": "microsoft.mobilenetwork/radioaccessnetworks",
                      "metricScope": 0,
                      "resourceParameter": "ran",
                      "resourceIds": [
                        "{ran}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "timeGrain": "PT15M",
                      "metrics": [
                        {
                          "namespace": "microsoft.mobilenetwork/radioaccessnetworks",
                          "metric": "microsoft.mobilenetwork/radioaccessnetworks-Traffic-DroppedConnectionRate",
                          "aggregation": 4,
                          "columnName": "Dropped Connection Rate"
                        }
                      ],
                      "title": "Dropped Connection Rate",
                      "gridFormatType": 1,
                      "tileSettings": {
                        "titleContent": {
                          "formatter": 1
                        },
                        "subtitleContent": {
                          "columnMatch": "Segment",
                          "formatter": 1
                        },
                        "leftContent": {
                          "columnMatch": "Value",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "icons",
                            "thresholdsGrid": [
                              {
                                "operator": "==",
                                "thresholdValue": "0",
                                "representation": null,
                                "text": "{0}{1}"
                              },
                              {
                                "operator": ">=",
                                "thresholdValue": "50",
                                "representation": "3",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "representation": null,
                                "text": "{0}{1}"
                              }
                            ]
                          },
                          "numberFormat": {
                            "unit": 1,
                            "options": {
                              "style": "decimal",
                              "useGrouping": false,
                              "maximumFractionDigits": 2,
                              "maximumSignificantDigits": 3
                            },
                            "emptyValCustomText": "No downtime data found on RAN",
                            "missingSparkDataOption": "Average"
                          }
                        },
                        "secondaryContent": {
                          "columnMatch": "Timeline",
                          "formatter": 9,
                          "formatOptions": {
                            "palette": "greenRed"
                          }
                        },
                        "showBorder": false,
                        "size": "auto"
                      },
                      "showOpenInMe": true,
                      "timeBrushParameterName": "timebrush",
                      "gridSettings": {
                        "rowLimit": 10000
                      }
                    },
                    "customWidth": "33",
                    "conditionalVisibility": {
                      "parameterName": "tab",
                      "comparison": "isEqualTo",
                      "value": "ranMetrics"
                    },
                    "showPin": true,
                    "name": "metric - 11 - Copy"
                  },
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbook4e8f0f07-e93f-409e-ad27-3b99e2bed328",
                      "version": "MetricsItem/2.0",
                      "size": 3,
                      "chartType": -1,
                      "resourceType": "microsoft.mobilenetwork/radioaccessnetworks",
                      "metricScope": 0,
                      "resourceParameter": "ran",
                      "resourceIds": [
                        "{ran}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "timeGrain": "PT15M",
                      "metrics": [
                        {
                          "namespace": "microsoft.mobilenetwork/radioaccessnetworks",
                          "metric": "microsoft.mobilenetwork/radioaccessnetworks-Traffic-MobilitySuccessRate",
                          "aggregation": 4,
                          "columnName": "Mobility Success Rate"
                        }
                      ],
                      "title": "Handover Success Rate",
                      "gridFormatType": 1,
                      "tileSettings": {
                        "titleContent": {
                          "formatter": 1
                        },
                        "subtitleContent": {
                          "columnMatch": "Segment",
                          "formatter": 1
                        },
                        "leftContent": {
                          "columnMatch": "Value",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "icons",
                            "thresholdsGrid": [
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "representation": null,
                                "text": "{0}{1}"
                              }
                            ]
                          },
                          "numberFormat": {
                            "unit": 1,
                            "options": {
                              "style": "decimal",
                              "useGrouping": false,
                              "maximumFractionDigits": 2,
                              "maximumSignificantDigits": 3
                            },
                            "emptyValCustomText": "No handover attempts",
                            "missingSparkDataOption": "Average"
                          }
                        },
                        "secondaryContent": {
                          "columnMatch": "Timeline",
                          "formatter": 9,
                          "formatOptions": {
                            "palette": "redGreen"
                          }
                        },
                        "showBorder": false,
                        "size": "auto"
                      },
                      "showOpenInMe": true,
                      "timeBrushParameterName": "timebrush",
                      "gridSettings": {
                        "rowLimit": 10000
                      }
                    },
                    "customWidth": "33",
                    "conditionalVisibility": {
                      "parameterName": "tab",
                      "comparison": "isEqualTo",
                      "value": "ranMetrics"
                    },
                    "showPin": true,
                    "name": "metric - 11 - Copy"
                  }
                ]
              },
              "name": "RAN health tiles"
            },
            {
              "type": 1,
              "content": {
                "json": "## RAN Metrics\r\n\r\n**The metrics on the left are from the RAN access points. The metrics on the right are from the packet core**"
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ranMetrics"
              },
              "name": "text - 17"
            },
            {
              "type": 12,
              "content": {
                "version": "NotebookGroup/1.0",
                "groupType": "editable",
                "items": [
                  {
                    "type": 3,
                    "content": {
                      "version": "KqlItem/1.0",
                      "query": "resources\r\n| where id == \"{mobilenetwork}\"\r\n| extend plmnid = todynamic(properties.publicLandMobileNetworkIdentifier)\r\n| extend MCC = toint(plmnid.mcc)\r\n| extend MNC = toint(plmnid.mnc)\r\n| project id, plmnid=\"PLMN ID\", MCC, MNC",
                      "size": 4,
                      "queryType": 1,
                      "resourceType": "microsoft.resourcegraph/resources",
                      "crossComponentResources": [
                        "value::selected"
                      ],
                      "visualization": "tiles",
                      "tileSettings": {
                        "titleContent": {
                          "columnMatch": "plmnid",
                          "formatter": 1
                        },
                        "subtitleContent": {
                          "columnMatch": "id",
                          "formatter": 13,
                          "formatOptions": {
                            "linkColumn": "id",
                            "linkTarget": "Resource",
                            "linkIsContextBlade": false,
                            "showIcon": true
                          }
                        },
                        "leftContent": {
                          "columnMatch": "MCC",
                          "formatter": 1,
                          "numberFormat": {
                            "unit": 0,
                            "options": {
                              "style": "decimal",
                              "minimumIntegerDigits": 3
                            }
                          },
                          "tooltipFormat": {
                            "tooltip": "MCC"
                          }
                        },
                        "rightContent": {
                          "columnMatch": "MNC",
                          "formatter": 1,
                          "numberFormat": {
                            "unit": 0,
                            "options": {
                              "style": "decimal",
                              "minimumIntegerDigits": 2
                            }
                          },
                          "tooltipFormat": {
                            "tooltip": "MCC"
                          }
                        },
                        "showBorder": false,
                        "size": "auto"
                      }
                    },
                    "customWidth": "0",
                    "name": "query - 0"
                  },
                  {
                    "type": 3,
                    "content": {
                      "version": "KqlItem/1.0",
                      "query": "resources\r\n| where type =~ \"Microsoft.mobileNetwork/mobilenetworks/slices\"\r\n| where id startswith \"{mobilenetwork}/slices/\"\r\n| extend subtitle = \"SST | SD\"\r\n| extend sst=properties.snssai.sst\r\n| extend sd=properties.snssai.sd",
                      "size": 4,
                      "title": "Network Slices",
                      "queryType": 1,
                      "resourceType": "microsoft.resourcegraph/resources",
                      "crossComponentResources": [
                        "value::selected"
                      ],
                      "visualization": "tiles",
                      "tileSettings": {
                        "titleContent": {
                          "columnMatch": "id",
                          "formatter": 13,
                          "formatOptions": {
                            "linkTarget": "Resource",
                            "linkIsContextBlade": false,
                            "showIcon": true
                          }
                        },
                        "subtitleContent": {
                          "columnMatch": "subtitle",
                          "formatter": 1
                        },
                        "leftContent": {
                          "columnMatch": "sst",
                          "formatter": 1,
                          "tooltipFormat": {
                            "tooltip": "SST"
                          }
                        },
                        "rightContent": {
                          "columnMatch": "sd",
                          "formatter": 1,
                          "tooltipFormat": {
                            "tooltip": "SD"
                          }
                        },
                        "showBorder": false,
                        "size": "auto"
                      }
                    },
                    "customWidth": "0",
                    "name": "query - 8"
                  },
                  {
                    "type": 12,
                    "content": {
                      "version": "NotebookGroup/1.0",
                      "groupType": "editable",
                      "title": "Packet Core Status",
                      "items": [
                        {
                          "type": 3,
                          "content": {
                            "version": "KqlItem/1.0",
                            "query": "resources\r\n| where id =~ \"{pccp:id}\"\r\n| extend sku=tostring(properties.sku)\r\n| extend skuMaxSubscribers = iff(sku==\"G0\", \"20\", iff(sku==\"G1\", \"100\", iff(sku==\"G2\", \"200\", iff(sku==\"G5\", \"500\", iff(sku==\"G10\", \"1000\", \"Unknown\")))))\r\n| extend skuMaxRans = iff(sku==\"G0\", \"2\", iff(sku==\"G1\", \"5\", iff(sku==\"G2\", \"10\", iff(sku==\"G5\", \"Unlimited\", iff(sku==\"G10\", \"Unlimited\", \"Unknown\")))))\r\n| extend skuMaxThroughput = iff(sku==\"G0\", \"100 Mbps\", iff(sku==\"G1\", \"1 Gbps\", iff(sku==\"G2\", \"2 Gbps\", iff(sku==\"G5\", \"5 Gbps\", iff(sku==\"G10\", \"10 Gbps\", \"Unknown\")))))\r\n| extend platform = tolower(properties.platform.type)\r\n| project [\"Packet Core\"]=id, [\"Core Type\"]=properties.coreNetworkTechnology, [\"Installation State\"]=properties.installation.state, [\"Version\"]=properties.version, [\"Service Plan\"]=sku, [\"Subscriber Limit\"]=skuMaxSubscribers, [\"Connected NodeBs Limit\"]=skuMaxRans, [\"Throughput Limit\"]=skuMaxThroughput, [\"Platform\"]=platform",
                            "size": 4,
                            "queryType": 1,
                            "resourceType": "microsoft.resourcegraph/resources",
                            "crossComponentResources": [
                              "{pccp}"
                            ],
                            "gridSettings": {
                              "formatters": [
                                {
                                  "columnMatch": "Core Type",
                                  "formatter": 1
                                },
                                {
                                  "columnMatch": "Installation State",
                                  "formatter": 18,
                                  "formatOptions": {
                                    "thresholdsOptions": "icons",
                                    "thresholdsGrid": [
                                      {
                                        "operator": "==",
                                        "thresholdValue": "Upgrading",
                                        "representation": "pending",
                                        "text": "{0}{1}"
                                      },
                                      {
                                        "operator": "==",
                                        "thresholdValue": "Updating",
                                        "representation": "pending",
                                        "text": "{0}{1}"
                                      },
                                      {
                                        "operator": "==",
                                        "thresholdValue": "Uninstalling",
                                        "representation": "pending",
                                        "text": "{0}{1}"
                                      },
                                      {
                                        "operator": "==",
                                        "thresholdValue": "Uninstalled",
                                        "representation": "stopped",
                                        "text": "{0}{1}"
                                      },
                                      {
                                        "operator": "==",
                                        "thresholdValue": "RollingBack",
                                        "representation": "pending",
                                        "text": "{0}{1}"
                                      },
                                      {
                                        "operator": "==",
                                        "thresholdValue": "Reinstalling",
                                        "representation": "pending",
                                        "text": "{0}{1}"
                                      },
                                      {
                                        "operator": "==",
                                        "thresholdValue": "Installing",
                                        "representation": "pending",
                                        "text": "{0}{1}"
                                      },
                                      {
                                        "operator": "==",
                                        "thresholdValue": "Installed",
                                        "representation": "success",
                                        "text": "{0}{1}"
                                      },
                                      {
                                        "operator": "==",
                                        "thresholdValue": "Failed",
                                        "representation": "failed",
                                        "text": "{0}{1}"
                                      },
                                      {
                                        "operator": "is Empty",
                                        "representation": "disabled",
                                        "text": "{0} Not Installed"
                                      },
                                      {
                                        "operator": "Default",
                                        "thresholdValue": null,
                                        "representation": null,
                                        "text": "{0}{1}"
                                      }
                                    ]
                                  }
                                },
                                {
                                  "columnMatch": "Version",
                                  "formatter": 1
                                },
                                {
                                  "columnMatch": "Billing Plan",
                                  "formatter": 1
                                },
                                {
                                  "columnMatch": "ASE",
                                  "formatter": 13,
                                  "formatOptions": {
                                    "linkTarget": "Resource",
                                    "linkIsContextBlade": false,
                                    "showIcon": true
                                  }
                                },
                                {
                                  "columnMatch": "Kubernetes Cluster",
                                  "formatter": 13,
                                  "formatOptions": {
                                    "linkTarget": "Resource",
                                    "linkIsContextBlade": false,
                                    "showIcon": true
                                  }
                                }
                              ]
                            }
                          },
                          "name": "PCCP"
                        },
                        {
                          "type": 10,
                          "content": {
                            "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                            "version": "MetricsItem/2.0",
                            "size": 4,
                            "chartType": -1,
                            "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                            "metricScope": 0,
                            "resourceParameter": "pcmeExtensionId",
                            "resourceIds": [
                              "{pcmeExtensionId}"
                            ],
                            "timeContext": {
                              "durationMs": 120000
                            },
                            "timeGrain": "PT1M",
                            "metrics": [
                              {
                                "namespace": "microsoft.kubernetesconfiguration/extensions",
                                "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-ProvisionedSubscribers",
                                "aggregation": 4,
                                "columnName": "Provisioned Subscribers"
                              }
                            ],
                            "gridFormatType": 1,
                            "tileSettings": {
                              "titleContent": {
                                "columnMatch": "Metric",
                                "formatter": 1
                              },
                              "leftContent": {
                                "columnMatch": "Value",
                                "formatter": 18,
                                "formatOptions": {
                                  "thresholdsOptions": "colors",
                                  "thresholdsGrid": [
                                    {
                                      "operator": ">",
                                      "thresholdValue": "{subscriberLimit}",
                                      "representation": "redBright",
                                      "text": "{0} / {subscriberLimit}"
                                    },
                                    {
                                      "operator": ">",
                                      "thresholdValue": "{subscriberLimitWarning}",
                                      "representation": "orange",
                                      "text": "{0} / {subscriberLimit}"
                                    },
                                    {
                                      "operator": "==",
                                      "thresholdValue": "0",
                                      "representation": "redBright",
                                      "text": "{0} / {subscriberLimit}"
                                    },
                                    {
                                      "operator": "Default",
                                      "thresholdValue": null,
                                      "text": "{0} / {subscriberLimit}"
                                    }
                                  ]
                                },
                                "numberFormat": {
                                  "unit": 17,
                                  "options": {
                                    "style": "decimal",
                                    "useGrouping": false,
                                    "maximumFractionDigits": 0,
                                    "maximumSignificantDigits": 3
                                  },
                                  "emptyValCustomText": "Error: metric not found"
                                }
                              },
                              "showBorder": false
                            },
                            "gridSettings": {
                              "formatters": [
                                {
                                  "columnMatch": "Subscription",
                                  "formatter": 5
                                },
                                {
                                  "columnMatch": "Name",
                                  "formatter": 13,
                                  "formatOptions": {
                                    "linkTarget": "Resource"
                                  }
                                },
                                {
                                  "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                                  "formatter": 5
                                },
                                {
                                  "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                                  "formatter": 1,
                                  "numberFormat": {
                                    "unit": 0,
                                    "options": null
                                  }
                                }
                              ],
                              "rowLimit": 10000,
                              "labelSettings": [
                                {
                                  "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                                  "label": "Connected NodeBs (Sum)"
                                },
                                {
                                  "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                                  "label": "Connected NodeBs Timeline"
                                }
                              ]
                            }
                          },
                          "customWidth": "0",
                          "conditionalVisibility": {
                            "parameterName": "pcmeExtensionId",
                            "comparison": "isNotEqualTo"
                          },
                          "name": "metric - 2 - Copy"
                        },
                        {
                          "type": 10,
                          "content": {
                            "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                            "version": "MetricsItem/2.0",
                            "size": 4,
                            "chartType": -1,
                            "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                            "metricScope": 0,
                            "resourceParameter": "pcmeExtensionId",
                            "resourceIds": [
                              "{pcmeExtensionId}"
                            ],
                            "timeContext": {
                              "durationMs": 120000
                            },
                            "timeGrain": "PT1M",
                            "metrics": [
                              {
                                "namespace": "microsoft.kubernetesconfiguration/extensions",
                                "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                                "aggregation": 3,
                                "columnName": "Connected NodeBs"
                              }
                            ],
                            "gridFormatType": 1,
                            "tileSettings": {
                              "titleContent": {
                                "columnMatch": "Metric",
                                "formatter": 1
                              },
                              "leftContent": {
                                "columnMatch": "Value",
                                "formatter": 18,
                                "formatOptions": {
                                  "thresholdsOptions": "colors",
                                  "thresholdsGrid": [
                                    {
                                      "operator": ">",
                                      "thresholdValue": "{nodeBLimit}",
                                      "representation": "redBright",
                                      "text": "{0} {nodeBLimitText}"
                                    },
                                    {
                                      "operator": ">",
                                      "thresholdValue": "{nodeBLimitWarning}",
                                      "representation": "orange",
                                      "text": "{0} {nodeBLimitText}"
                                    },
                                    {
                                      "operator": "==",
                                      "thresholdValue": "0",
                                      "representation": "redBright",
                                      "text": "{0} {nodeBLimitText}"
                                    },
                                    {
                                      "operator": "Default",
                                      "thresholdValue": null,
                                      "text": "{0} {nodeBLimitText}"
                                    }
                                  ]
                                },
                                "numberFormat": {
                                  "unit": 17,
                                  "options": {
                                    "style": "decimal",
                                    "useGrouping": false,
                                    "maximumFractionDigits": 0,
                                    "maximumSignificantDigits": 3
                                  },
                                  "emptyValCustomText": "Error: metric not found"
                                }
                              },
                              "showBorder": false
                            },
                            "gridSettings": {
                              "formatters": [
                                {
                                  "columnMatch": "Subscription",
                                  "formatter": 5
                                },
                                {
                                  "columnMatch": "Name",
                                  "formatter": 13,
                                  "formatOptions": {
                                    "linkTarget": "Resource"
                                  }
                                },
                                {
                                  "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                                  "formatter": 5
                                },
                                {
                                  "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                                  "formatter": 1,
                                  "numberFormat": {
                                    "unit": 0,
                                    "options": null
                                  }
                                }
                              ],
                              "rowLimit": 10000,
                              "labelSettings": [
                                {
                                  "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                                  "label": "Connected NodeBs (Sum)"
                                },
                                {
                                  "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                                  "label": "Connected NodeBs Timeline"
                                }
                              ]
                            }
                          },
                          "customWidth": "0",
                          "conditionalVisibility": {
                            "parameterName": "pcmeExtensionId",
                            "comparison": "isNotEqualTo"
                          },
                          "name": "metric - 2 - Copy - Copy"
                        },
                        {
                          "type": 10,
                          "content": {
                            "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                            "version": "MetricsItem/2.0",
                            "size": 4,
                            "chartType": -1,
                            "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                            "metricScope": 0,
                            "resourceParameter": "pcmeExtensionId",
                            "resourceIds": [
                              "{pcmeExtensionId}"
                            ],
                            "timeContext": {
                              "durationMs": 120000
                            },
                            "timeGrain": "PT1M",
                            "metrics": [
                              {
                                "namespace": "microsoft.kubernetesconfiguration/extensions",
                                "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegisteredSubscribers",
                                "aggregation": 3
                              },
                              {
                                "namespace": "microsoft.kubernetesconfiguration/extensions",
                                "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegisteredSubscribersConnected",
                                "aggregation": 3,
                                "columnName": "Connected Subscribers"
                              }
                            ],
                            "gridFormatType": 1,
                            "tileSettings": {
                              "titleContent": {
                                "columnMatch": "Metric",
                                "formatter": 1
                              },
                              "leftContent": {
                                "columnMatch": "Value",
                                "formatter": 18,
                                "formatOptions": {
                                  "thresholdsOptions": "colors",
                                  "thresholdsGrid": [
                                    {
                                      "operator": "==",
                                      "thresholdValue": "0",
                                      "representation": "redBright",
                                      "text": "{0}{1}"
                                    },
                                    {
                                      "operator": "Default",
                                      "thresholdValue": null,
                                      "text": "{0}{1}"
                                    }
                                  ]
                                },
                                "numberFormat": {
                                  "unit": 17,
                                  "options": {
                                    "style": "decimal",
                                    "useGrouping": false,
                                    "maximumFractionDigits": 0,
                                    "maximumSignificantDigits": 3
                                  },
                                  "emptyValCustomText": "Error: metric not found"
                                }
                              },
                              "showBorder": false
                            },
                            "gridSettings": {
                              "formatters": [
                                {
                                  "columnMatch": "Subscription",
                                  "formatter": 5
                                },
                                {
                                  "columnMatch": "Name",
                                  "formatter": 13,
                                  "formatOptions": {
                                    "linkTarget": "Resource"
                                  }
                                },
                                {
                                  "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                                  "formatter": 5
                                },
                                {
                                  "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                                  "formatter": 1,
                                  "numberFormat": {
                                    "unit": 0,
                                    "options": null
                                  }
                                }
                              ],
                              "rowLimit": 10000,
                              "labelSettings": [
                                {
                                  "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                                  "label": "Connected NodeBs (Sum)"
                                },
                                {
                                  "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                                  "label": "Connected NodeBs Timeline"
                                }
                              ]
                            }
                          },
                          "customWidth": "0",
                          "conditionalVisibility": {
                            "parameterName": "pcmeExtensionId",
                            "comparison": "isNotEqualTo"
                          },
                          "name": "metric - 2"
                        }
                      ]
                    },
                    "name": "Packet Core Status",
                    "styleSettings": {
                      "showBorder": true
                    }
                  },
                  {
                    "type": 3,
                    "content": {
                      "version": "KqlItem/1.0",
                      "query": "alertsmanagementresources\r\n| where type == 'microsoft.alertsmanagement/alerts'\r\n| extend severity = tostring(properties[\"essentials\"][\"severity\"])\r\n| extend startTime = properties[\"essentials\"][\"startDateTime\"]\r\n| extend description = properties[\"essentials\"][\"description\"]\r\n| extend condition = properties[\"essentials\"][\"monitorCondition\"]\r\n| where properties[\"essentials\"][\"targetResource\"] in~ (\"{ase}\", \"{pccp}\", \"{kubernetesCluster}\")\r\n| project [\"Alert Time\"]=todatetime(startTime),[\"Severity\"]=severity,[\"Alert\"]=name,[\"Description\"]=description, [\"Condition\"]=condition\r\n| order by [\"Alert Time\"] desc",
                      "size": 4,
                      "title": "All Alerts",
                      "noDataMessage": "No active alerts",
                      "noDataMessageStyle": 3,
                      "queryType": 1,
                      "resourceType": "microsoft.resourcegraph/resources",
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Alert Time",
                            "formatter": 6,
                            "dateFormat": {
                              "showUtcTime": null,
                              "formatName": null
                            }
                          },
                          {
                            "columnMatch": "Severity",
                            "formatter": 18,
                            "formatOptions": {
                              "thresholdsOptions": "icons",
                              "thresholdsGrid": [
                                {
                                  "operator": "==",
                                  "thresholdValue": "Sev0",
                                  "representation": "Sev0",
                                  "text": "0 - Critical"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Sev1",
                                  "representation": "Sev1",
                                  "text": "1 - Error"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Sev2",
                                  "representation": "Sev2",
                                  "text": "2 - Warning"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Sev3",
                                  "representation": "Sev3",
                                  "text": "3 - Informational"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Sev4",
                                  "representation": "Sev4",
                                  "text": "4 - Verbose"
                                },
                                {
                                  "operator": "Default",
                                  "thresholdValue": null,
                                  "representation": "1",
                                  "text": "{0}{1}"
                                }
                              ]
                            }
                          },
                          {
                            "columnMatch": "Description",
                            "formatter": 1
                          },
                          {
                            "columnMatch": "Condition",
                            "formatter": 18,
                            "formatOptions": {
                              "thresholdsOptions": "icons",
                              "thresholdsGrid": [
                                {
                                  "operator": "==",
                                  "thresholdValue": "Resolved",
                                  "representation": "success",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Fired",
                                  "representation": "2",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "Default",
                                  "thresholdValue": null,
                                  "representation": "success",
                                  "text": "{0}{1}"
                                }
                              ]
                            }
                          },
                          {
                            "columnMatch": "Start Time",
                            "formatter": 6
                          }
                        ],
                        "rowLimit": 50
                      }
                    },
                    "name": "Alerts"
                  },
                  {
                    "type": 3,
                    "content": {
                      "version": "KqlItem/1.0",
                      "query": "resources\r\n| where type =~ \"Microsoft.DataBoxEdge/dataBoxEdgeDevices\"\r\n| where id =~ \"{ase}\"\r\n| project [\"ASE\"]=id, [\"Resource Group\"] = strcat(\"/subscriptions/\", subscriptionId, \"/resourceGroups/\", resourceGroup), [\"Status\"]=properties.dataBoxEdgeDeviceStatus, [\"Version\"]=properties.deviceSoftwareVersion",
                      "size": 4,
                      "queryType": 1,
                      "resourceType": "microsoft.resourcegraph/resources",
                      "crossComponentResources": [
                        "{pccp}"
                      ],
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Resource Group",
                            "formatter": 14,
                            "formatOptions": {
                              "linkTarget": "Resource",
                              "showIcon": true
                            }
                          },
                          {
                            "columnMatch": "Status",
                            "formatter": 18,
                            "formatOptions": {
                              "thresholdsOptions": "icons",
                              "thresholdsGrid": [
                                {
                                  "operator": "==",
                                  "thresholdValue": "Online",
                                  "representation": "success",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Disconnected",
                                  "representation": "info",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Maintenance",
                                  "representation": "warning",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "NeedsAttention",
                                  "representation": "critical",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Offline",
                                  "representation": "unknown",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "PartiallyDisconnected",
                                  "representation": "info",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "ReadyToSetup",
                                  "representation": "info",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "Default",
                                  "thresholdValue": null,
                                  "representation": "success",
                                  "text": "{0}{1}"
                                }
                              ]
                            }
                          },
                          {
                            "columnMatch": "Version",
                            "formatter": 1
                          }
                        ]
                      }
                    },
                    "conditionalVisibility": {
                      "parameterName": "ase",
                      "comparison": "isNotEqualTo"
                    },
                    "name": "query - 0 - Copy"
                  },
                  {
                    "type": 3,
                    "content": {
                      "version": "KqlItem/1.0",
                      "query": "{\"version\":\"AzureHealthQuery/1.0\",\"queryType\":\"Detailed\"}",
                      "size": 4,
                      "noDataMessageStyle": 5,
                      "queryType": 4,
                      "resourceType": "{kubernetesCluster}",
                      "crossComponentResources": [
                        "{kubernetesCluster}"
                      ],
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Availability state",
                            "formatter": 11
                          },
                          {
                            "columnMatch": "Subscription",
                            "formatter": 5
                          }
                        ],
                        "labelSettings": [
                          {
                            "columnId": "Name",
                            "label": "Kubernetes cluster"
                          }
                        ]
                      },
                      "tileSettings": {
                        "showBorder": false
                      }
                    },
                    "conditionalVisibility": {
                      "parameterName": "kubernetesCluster",
                      "comparison": "isNotEqualTo",
                      "value": ""
                    },
                    "name": "clusterHealth"
                  },
                  {
                    "type": 3,
                    "content": {
                      "version": "KqlItem/1.0",
                      "query": "resources\r\n| where type =~ \"microsoft.mobilenetwork/packetcorecontrolplanes/packetcoredataplanes/attacheddatanetworks\"\r\n| where id startswith \"{pccp}\"\r\n| extend dynamicUePool=properties.userEquipmentAddressPoolPrefix[0]\r\n| extend staticUePool=properties.userEquipmentStaticAddressPoolPrefix[0]\r\n| extend dynamicUeSuffix = toint(split(dynamicUePool, \"/\", 1)[0])\r\n| extend staticUeSuffix = toint(split(staticUePool, \"/\", 1)[0])\r\n| extend dynamicUePoolSize = pow(2, 32-dynamicUeSuffix)\r\n| extend staticUePoolSize = pow(2, 32-staticUeSuffix)\r\n| project [\"Attached Data Network\"]=id, [\"DNN\"]=name, [\"NAPT\"]=properties.naptConfiguration.enabled, [\"Dynamic UE IP pool\"]=dynamicUePool, [\"Dynamic UE Pool size\"]=dynamicUePoolSize, [\"Static UE IP pool\"]=staticUePool, [\"Static UE Pool size\"]=staticUePoolSize",
                      "size": 1,
                      "title": "Attached Data Networks",
                      "queryType": 1,
                      "resourceType": "microsoft.resourcegraph/resources",
                      "crossComponentResources": [
                        "value::selected"
                      ],
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Attached Data Network",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource",
                              "showIcon": true
                            }
                          },
                          {
                            "columnMatch": "DNN",
                            "formatter": 1
                          },
                          {
                            "columnMatch": "NAPT",
                            "formatter": 1
                          },
                          {
                            "columnMatch": "UE IP pool",
                            "formatter": 1
                          }
                        ]
                      }
                    },
                    "name": "ADNs"
                  },
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                      "version": "MetricsItem/2.0",
                      "size": 0,
                      "chartType": 3,
                      "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                      "metricScope": 0,
                      "resourceParameter": "pcmeExtensionId",
                      "resourceIds": [
                        "{pcmeExtensionId}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "metrics": [
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegisteredSubscribersConnected",
                          "aggregation": 4,
                          "splitBy": null,
                          "columnName": "Connected"
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegisteredSubscribersIdle",
                          "aggregation": 4,
                          "columnName": "Idle"
                        }
                      ],
                      "title": "Registered Subscribers",
                      "gridFormatType": 1,
                      "tileSettings": {
                        "titleContent": {
                          "columnMatch": "Metric",
                          "formatter": 13,
                          "formatOptions": {
                            "linkTarget": null,
                            "showIcon": false
                          }
                        },
                        "leftContent": {
                          "columnMatch": "Value",
                          "formatter": 12,
                          "formatOptions": {
                            "palette": "auto"
                          },
                          "numberFormat": {
                            "unit": 17,
                            "options": {
                              "maximumSignificantDigits": 3,
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        "showBorder": false
                      },
                      "mapSettings": {
                        "locInfo": "AzureResource",
                        "sizeSettings": "Value",
                        "sizeAggregation": "Sum",
                        "legendMetric": "Value",
                        "legendAggregation": "Sum",
                        "itemColorSettings": {
                          "type": "heatmap",
                          "colorAggregation": "Sum",
                          "nodeColorField": "Value",
                          "heatmapPalette": "greenRed"
                        },
                        "locInfoColumn": "Name"
                      },
                      "graphSettings": {
                        "type": 0,
                        "topContent": {
                          "columnMatch": "Subscription",
                          "formatter": 1
                        },
                        "centerContent": {
                          "columnMatch": "Value",
                          "formatter": 1,
                          "numberFormat": {
                            "unit": 17,
                            "options": {
                              "maximumSignificantDigits": 3,
                              "maximumFractionDigits": 2
                            }
                          }
                        }
                      },
                      "showOpenInMe": true,
                      "timeBrushParameterName": "timebrush",
                      "timeBrushExportOnlyWhenBrushed": true,
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Subscription",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Name",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource"
                            }
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "formatter": 1,
                            "numberFormat": {
                              "unit": 0,
                              "options": null
                            }
                          },
                          {
                            "columnMatch": "Metric",
                            "formatter": 1
                          },
                          {
                            "columnMatch": "Aggregation",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Value",
                            "formatter": 1
                          },
                          {
                            "columnMatch": "Timeline",
                            "formatter": 9
                          },
                          {
                            "columnMatch": "Bandwidth (bps)",
                            "formatter": 1,
                            "numberFormat": {
                              "unit": 0,
                              "options": null
                            }
                          }
                        ],
                        "rowLimit": 10000,
                        "labelSettings": [
                          {
                            "columnId": "Bandwidth (bps)",
                            "label": "Bandwidth (bps)"
                          },
                          {
                            "columnId": "Bandwidth (bps) Timeline",
                            "label": "Bandwidth (bps) Timeline"
                          }
                        ]
                      }
                    },
                    "conditionalVisibility": {
                      "parameterName": "pcmeExtensionId",
                      "comparison": "isNotEqualTo"
                    },
                    "showPin": true,
                    "name": "connected devices"
                  },
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                      "version": "MetricsItem/2.0",
                      "size": 0,
                      "chartType": 3,
                      "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                      "metricScope": 0,
                      "resourceParameter": "pcmeExtensionId",
                      "resourceIds": [
                        "{pcmeExtensionId}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "metrics": [
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-UserPlaneBandwidth",
                          "aggregation": 4,
                          "splitBy": "Interface",
                          "columnName": "Bandwidth (bps)"
                        }
                      ],
                      "title": "User Plane Throughput",
                      "gridFormatType": 1,
                      "tileSettings": {
                        "titleContent": {
                          "columnMatch": "Metric",
                          "formatter": 13,
                          "formatOptions": {
                            "linkTarget": null,
                            "showIcon": false
                          }
                        },
                        "leftContent": {
                          "columnMatch": "Value",
                          "formatter": 12,
                          "formatOptions": {
                            "palette": "auto"
                          },
                          "numberFormat": {
                            "unit": 17,
                            "options": {
                              "maximumSignificantDigits": 3,
                              "maximumFractionDigits": 2
                            }
                          }
                        },
                        "showBorder": false
                      },
                      "mapSettings": {
                        "locInfo": "AzureResource",
                        "sizeSettings": "Value",
                        "sizeAggregation": "Sum",
                        "legendMetric": "Value",
                        "legendAggregation": "Sum",
                        "itemColorSettings": {
                          "type": "heatmap",
                          "colorAggregation": "Sum",
                          "nodeColorField": "Value",
                          "heatmapPalette": "greenRed"
                        },
                        "locInfoColumn": "Name"
                      },
                      "graphSettings": {
                        "type": 0,
                        "topContent": {
                          "columnMatch": "Subscription",
                          "formatter": 1
                        },
                        "centerContent": {
                          "columnMatch": "Value",
                          "formatter": 1,
                          "numberFormat": {
                            "unit": 17,
                            "options": {
                              "maximumSignificantDigits": 3,
                              "maximumFractionDigits": 2
                            }
                          }
                        }
                      },
                      "showOpenInMe": true,
                      "filters": [
                        {
                          "id": "1",
                          "key": "Interface",
                          "operator": 1,
                          "values": [
                            "cp_interface",
                            "n3_kernel",
                            "n6_kernel_1",
                            "n6_kernel_2",
                            "n6_kernel_3",
                            "trace_n3trace",
                            "trace_n6trace0",
                            "trace_n6trace1",
                            "trace_n6trace2"
                          ]
                        },
                        {
                          "id": "2",
                          "key": "Direction",
                          "operator": 1,
                          "values": [
                            "rx"
                          ]
                        }
                      ],
                      "timeBrushParameterName": "timebrush",
                      "timeBrushExportOnlyWhenBrushed": true,
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Subscription",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Name",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource"
                            }
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "formatter": 1,
                            "numberFormat": {
                              "unit": 0,
                              "options": null
                            }
                          },
                          {
                            "columnMatch": "Metric",
                            "formatter": 1
                          },
                          {
                            "columnMatch": "Aggregation",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Value",
                            "formatter": 1
                          },
                          {
                            "columnMatch": "Timeline",
                            "formatter": 9
                          },
                          {
                            "columnMatch": "Bandwidth (bps)",
                            "formatter": 1,
                            "numberFormat": {
                              "unit": 0,
                              "options": null
                            }
                          }
                        ],
                        "rowLimit": 10000,
                        "labelSettings": [
                          {
                            "columnId": "Bandwidth (bps)",
                            "label": "Bandwidth (bps)"
                          },
                          {
                            "columnId": "Bandwidth (bps) Timeline",
                            "label": "Bandwidth (bps) Timeline"
                          }
                        ]
                      }
                    },
                    "conditionalVisibility": {
                      "parameterName": "pcmeExtensionId",
                      "comparison": "isNotEqualTo"
                    },
                    "showPin": true,
                    "name": "metric - 2 - Copy"
                  },
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                      "version": "MetricsItem/2.0",
                      "size": 0,
                      "chartType": 2,
                      "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                      "metricScope": 0,
                      "resourceParameter": "pcmeExtensionId",
                      "resourceIds": [
                        "{pcmeExtensionId}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "metrics": [
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-AuthFailure",
                          "aggregation": 1,
                          "splitBy": null,
                          "columnName": "Authentication Failures"
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-PagingFailure",
                          "aggregation": 1
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RanSetupFailure",
                          "aggregation": 1
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegistrationFailure",
                          "aggregation": 1
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-ServiceRequestFailure",
                          "aggregation": 1
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-SessionEstablishmentFailure",
                          "aggregation": 1
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-XnHandoverFailure",
                          "aggregation": 1
                        }
                      ],
                      "title": "Packet Core Control Plane Procedure Failures",
                      "gridFormatType": 1,
                      "tileSettings": {
                        "titleContent": {
                          "columnMatch": "Metric",
                          "formatter": 1
                        },
                        "leftContent": {
                          "columnMatch": "Value",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "colors",
                            "thresholdsGrid": [
                              {
                                "operator": "==",
                                "thresholdValue": "0",
                                "representation": "redBright",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "text": "{0}{1}"
                              }
                            ]
                          },
                          "numberFormat": {
                            "unit": 17,
                            "options": {
                              "style": "decimal",
                              "useGrouping": false,
                              "maximumFractionDigits": 0,
                              "maximumSignificantDigits": 3
                            },
                            "emptyValCustomText": "Error: metric not found"
                          }
                        },
                        "showBorder": false
                      },
                      "showOpenInMe": true,
                      "timeBrushParameterName": "timebrush",
                      "timeBrushExportOnlyWhenBrushed": true,
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Subscription",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Name",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource"
                            }
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "formatter": 1,
                            "numberFormat": {
                              "unit": 0,
                              "options": null
                            }
                          }
                        ],
                        "rowLimit": 10000,
                        "labelSettings": [
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "label": "Connected NodeBs (Sum)"
                          },
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "label": "Connected NodeBs Timeline"
                          }
                        ]
                      }
                    },
                    "conditionalVisibility": {
                      "parameterName": "pcmeExtensionId",
                      "comparison": "isNotEqualTo"
                    },
                    "showPin": true,
                    "name": "controlplaneerrors"
                  }
                ]
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "overview"
              },
              "name": "overview"
            },
            {
              "type": 12,
              "content": {
                "version": "NotebookGroup/1.0",
                "groupType": "editable",
                "items": [
                  {
                    "type": 3,
                    "content": {
                      "version": "KqlItem/1.0",
                      "query": "resources\r\n| where type =~ \"Microsoft.DataBoxEdge/dataBoxEdgeDevices\"\r\n| where id =~ \"{ase}\"\r\n| project [\"ASE\"]=id, [\"Resource Group\"] = strcat(\"/subscriptions/\", subscriptionId, \"/resourceGroups/\", resourceGroup), [\"Status\"]=properties.dataBoxEdgeDeviceStatus, [\"Version\"]=properties.deviceSoftwareVersion",
                      "size": 4,
                      "queryType": 1,
                      "resourceType": "microsoft.resourcegraph/resources",
                      "crossComponentResources": [
                        "{pccp}"
                      ],
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Resource Group",
                            "formatter": 14,
                            "formatOptions": {
                              "linkTarget": "Resource",
                              "showIcon": true
                            }
                          },
                          {
                            "columnMatch": "Status",
                            "formatter": 18,
                            "formatOptions": {
                              "thresholdsOptions": "icons",
                              "thresholdsGrid": [
                                {
                                  "operator": "==",
                                  "thresholdValue": "Online",
                                  "representation": "success",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Disconnected",
                                  "representation": "info",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Maintenance",
                                  "representation": "warning",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "NeedsAttention",
                                  "representation": "critical",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Offline",
                                  "representation": "unknown",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "PartiallyDisconnected",
                                  "representation": "info",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "ReadyToSetup",
                                  "representation": "info",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "Default",
                                  "thresholdValue": null,
                                  "representation": "success",
                                  "text": "{0}{1}"
                                }
                              ]
                            }
                          },
                          {
                            "columnMatch": "Version",
                            "formatter": 1
                          }
                        ]
                      }
                    },
                    "name": "query - 0"
                  },
                  {
                    "type": 3,
                    "content": {
                      "version": "KqlItem/1.0",
                      "query": "alertsmanagementresources\r\n| where type == 'microsoft.alertsmanagement/alerts'\r\n| extend severity = tostring(properties[\"essentials\"][\"severity\"])\r\n| extend startTime = properties[\"essentials\"][\"startDateTime\"]\r\n| extend description = properties[\"essentials\"][\"description\"]\r\n| extend condition = properties[\"essentials\"][\"monitorCondition\"]\r\n| where properties[\"essentials\"][\"targetResource\"] =~ '{ase}'\r\n| project [\"Alert Time\"]=todatetime(startTime),[\"Severity\"]=severity,[\"Alert\"]=name,[\"Description\"]=description,[\"Alert Condition\"]=condition\r\n| order by [\"Alert Time\"] desc",
                      "size": 1,
                      "showAnalytics": true,
                      "title": "ASE Alerts",
                      "noDataMessage": "No active ASE alerts",
                      "noDataMessageStyle": 3,
                      "queryType": 1,
                      "resourceType": "microsoft.resourcegraph/resources",
                      "crossComponentResources": [
                        "{ase}"
                      ],
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Alert Time",
                            "formatter": 6,
                            "dateFormat": {
                              "showUtcTime": null,
                              "formatName": null
                            }
                          },
                          {
                            "columnMatch": "Severity",
                            "formatter": 18,
                            "formatOptions": {
                              "thresholdsOptions": "icons",
                              "thresholdsGrid": [
                                {
                                  "operator": "==",
                                  "thresholdValue": "Sev0",
                                  "representation": "Sev0",
                                  "text": "0 - Critical"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Sev1",
                                  "representation": "Sev1",
                                  "text": "1 - Error"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Sev2",
                                  "representation": "Sev2",
                                  "text": "2 - Warning"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Sev3",
                                  "representation": "Sev3",
                                  "text": "3 - Informational"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Sev4",
                                  "representation": "Sev4",
                                  "text": "4 - Verbose"
                                },
                                {
                                  "operator": "Default",
                                  "thresholdValue": null,
                                  "representation": "1",
                                  "text": "{0}{1}"
                                }
                              ]
                            }
                          },
                          {
                            "columnMatch": "Description",
                            "formatter": 1
                          },
                          {
                            "columnMatch": "Alert Condition",
                            "formatter": 18,
                            "formatOptions": {
                              "thresholdsOptions": "icons",
                              "thresholdsGrid": [
                                {
                                  "operator": "==",
                                  "thresholdValue": "Resolved",
                                  "representation": "success",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Fired",
                                  "representation": "warning",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "Default",
                                  "thresholdValue": null,
                                  "representation": "success",
                                  "text": "{0}{1}"
                                }
                              ]
                            },
                            "numberFormat": {
                              "unit": 0,
                              "options": {
                                "style": "decimal"
                              }
                            }
                          },
                          {
                            "columnMatch": "Start Time",
                            "formatter": 6
                          }
                        ]
                      }
                    },
                    "showPin": true,
                    "name": "query - 4"
                  },
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbook0fa14171-8144-4003-ba50-7c260b628940",
                      "version": "MetricsItem/2.0",
                      "size": 0,
                      "chartType": 2,
                      "resourceType": "microsoft.databoxedge/databoxedgedevices",
                      "metricScope": 0,
                      "resourceParameter": "ase",
                      "resourceIds": [
                        "{ase}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "metrics": [
                        {
                          "namespace": "microsoft.databoxedge/databoxedgedevices",
                          "metric": "microsoft.databoxedge/databoxedgedevices-Transaction-HyperVVirtualProcessorUtilization",
                          "aggregation": 4,
                          "splitBy": null
                        },
                        {
                          "namespace": "microsoft.databoxedge/databoxedgedevices",
                          "metric": "microsoft.databoxedge/databoxedgedevices-Transaction-HyperVMemoryUtilization",
                          "aggregation": 4
                        }
                      ],
                      "title": "ASE Compute Usage",
                      "showOpenInMe": true,
                      "showCreateAlertRule": true,
                      "timeBrushParameterName": "timebrush",
                      "timeBrushExportOnlyWhenBrushed": true,
                      "gridSettings": {
                        "rowLimit": 10000
                      }
                    },
                    "showPin": true,
                    "name": "asecompute"
                  },
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbook57831786-6ca6-4b4e-a6bf-2a88bad1c556",
                      "version": "MetricsItem/2.0",
                      "size": 0,
                      "chartType": 2,
                      "resourceType": "microsoft.databoxedge/databoxedgedevices",
                      "metricScope": 0,
                      "resourceParameter": "ase",
                      "resourceIds": [
                        "{ase}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "metrics": [
                        {
                          "namespace": "microsoft.databoxedge/databoxedgedevices",
                          "metric": "microsoft.databoxedge/databoxedgedevices-Transaction-NICReadThroughput",
                          "aggregation": 4,
                          "splitBy": null
                        },
                        {
                          "namespace": "microsoft.databoxedge/databoxedgedevices",
                          "metric": "microsoft.databoxedge/databoxedgedevices-Transaction-NICWriteThroughput",
                          "aggregation": 4
                        }
                      ],
                      "title": "ASE Bandwidth",
                      "showOpenInMe": true,
                      "showCreateAlertRule": true,
                      "timeBrushParameterName": "timebrush",
                      "timeBrushExportOnlyWhenBrushed": true,
                      "gridSettings": {
                        "rowLimit": 10000
                      }
                    },
                    "showPin": true,
                    "name": "metric - 2"
                  }
                ],
                "exportParameters": true
              },
              "conditionalVisibilities": [
                {
                  "parameterName": "tab",
                  "comparison": "isEqualTo",
                  "value": "aseStatus"
                },
                {
                  "parameterName": "ase",
                  "comparison": "isNotEqualTo"
                }
              ],
              "name": "ase"
            },
            {
              "type": 12,
              "content": {
                "version": "NotebookGroup/1.0",
                "groupType": "editable",
                "items": [
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                      "version": "MetricsItem/2.0",
                      "size": 1,
                      "chartType": 2,
                      "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                      "metricScope": 0,
                      "resourceParameter": "pcmeExtensionId",
                      "resourceIds": [
                        "{pcmeExtensionId}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "metrics": [
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RanSetupRequest",
                          "aggregation": 1,
                          "splitBy": null,
                          "columnName": ""
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RanSetupResponse",
                          "aggregation": 1
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RanSetupFailure",
                          "aggregation": 1
                        }
                      ],
                      "title": "RAN Setup Procedures",
                      "gridFormatType": 1,
                      "tileSettings": {
                        "titleContent": {
                          "columnMatch": "Metric",
                          "formatter": 1
                        },
                        "leftContent": {
                          "columnMatch": "Value",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "colors",
                            "thresholdsGrid": [
                              {
                                "operator": "==",
                                "thresholdValue": "0",
                                "representation": "redBright",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "text": "{0}{1}"
                              }
                            ]
                          },
                          "numberFormat": {
                            "unit": 17,
                            "options": {
                              "style": "decimal",
                              "useGrouping": false,
                              "maximumFractionDigits": 0,
                              "maximumSignificantDigits": 3
                            },
                            "emptyValCustomText": "Error: metric not found"
                          }
                        },
                        "showBorder": false
                      },
                      "showOpenInMe": true,
                      "timeBrushParameterName": "timebrush",
                      "timeBrushExportOnlyWhenBrushed": true,
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Subscription",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Name",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource"
                            }
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "formatter": 1,
                            "numberFormat": {
                              "unit": 0,
                              "options": null
                            }
                          }
                        ],
                        "rowLimit": 10000,
                        "labelSettings": [
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "label": "Connected NodeBs (Sum)"
                          },
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "label": "Connected NodeBs Timeline"
                          }
                        ]
                      }
                    },
                    "conditionalVisibility": {
                      "parameterName": "pcmeExtensionId",
                      "comparison": "isNotEqualTo"
                    },
                    "showPin": true,
                    "name": "ransetupmetrics"
                  },
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                      "version": "MetricsItem/2.0",
                      "size": 1,
                      "chartType": 2,
                      "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                      "metricScope": 0,
                      "resourceParameter": "pcmeExtensionId",
                      "resourceIds": [
                        "{pcmeExtensionId}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "metrics": [
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegistrationAttempt",
                          "aggregation": 1,
                          "splitBy": null,
                          "columnName": ""
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegistrationSuccess",
                          "aggregation": 1
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegistrationFailure",
                          "aggregation": 1
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-DeRegistrationAttempt",
                          "aggregation": 1
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-DeRegistrationSuccess",
                          "aggregation": 1
                        }
                      ],
                      "title": "Registration Procedures",
                      "gridFormatType": 1,
                      "tileSettings": {
                        "titleContent": {
                          "columnMatch": "Metric",
                          "formatter": 1
                        },
                        "leftContent": {
                          "columnMatch": "Value",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "colors",
                            "thresholdsGrid": [
                              {
                                "operator": "==",
                                "thresholdValue": "0",
                                "representation": "redBright",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "text": "{0}{1}"
                              }
                            ]
                          },
                          "numberFormat": {
                            "unit": 17,
                            "options": {
                              "style": "decimal",
                              "useGrouping": false,
                              "maximumFractionDigits": 0,
                              "maximumSignificantDigits": 3
                            },
                            "emptyValCustomText": "Error: metric not found"
                          }
                        },
                        "showBorder": false
                      },
                      "showOpenInMe": true,
                      "timeBrushParameterName": "timebrush",
                      "timeBrushExportOnlyWhenBrushed": true,
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Subscription",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Name",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource"
                            }
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "formatter": 1,
                            "numberFormat": {
                              "unit": 0,
                              "options": null
                            }
                          }
                        ],
                        "rowLimit": 10000,
                        "labelSettings": [
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "label": "Connected NodeBs (Sum)"
                          },
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "label": "Connected NodeBs Timeline"
                          }
                        ]
                      }
                    },
                    "conditionalVisibility": {
                      "parameterName": "pcmeExtensionId",
                      "comparison": "isNotEqualTo"
                    },
                    "showPin": true,
                    "name": "registrationmetrics"
                  },
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                      "version": "MetricsItem/2.0",
                      "size": 1,
                      "chartType": 2,
                      "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                      "metricScope": 0,
                      "resourceParameter": "pcmeExtensionId",
                      "resourceIds": [
                        "{pcmeExtensionId}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "metrics": [
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-AuthAttempt",
                          "aggregation": 1,
                          "splitBy": null,
                          "columnName": ""
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-AuthSuccess",
                          "aggregation": 1
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-AuthFailure",
                          "aggregation": 1
                        }
                      ],
                      "title": "Authentication Procedures",
                      "gridFormatType": 1,
                      "tileSettings": {
                        "titleContent": {
                          "columnMatch": "Metric",
                          "formatter": 1
                        },
                        "leftContent": {
                          "columnMatch": "Value",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "colors",
                            "thresholdsGrid": [
                              {
                                "operator": "==",
                                "thresholdValue": "0",
                                "representation": "redBright",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "text": "{0}{1}"
                              }
                            ]
                          },
                          "numberFormat": {
                            "unit": 17,
                            "options": {
                              "style": "decimal",
                              "useGrouping": false,
                              "maximumFractionDigits": 0,
                              "maximumSignificantDigits": 3
                            },
                            "emptyValCustomText": "Error: metric not found"
                          }
                        },
                        "showBorder": false
                      },
                      "showOpenInMe": true,
                      "timeBrushParameterName": "timebrush",
                      "timeBrushExportOnlyWhenBrushed": true,
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Subscription",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Name",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource"
                            }
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "formatter": 1,
                            "numberFormat": {
                              "unit": 0,
                              "options": null
                            }
                          }
                        ],
                        "rowLimit": 10000,
                        "labelSettings": [
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "label": "Connected NodeBs (Sum)"
                          },
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "label": "Connected NodeBs Timeline"
                          }
                        ]
                      }
                    },
                    "conditionalVisibility": {
                      "parameterName": "pcmeExtensionId",
                      "comparison": "isNotEqualTo"
                    },
                    "showPin": true,
                    "name": "authmetrics"
                  },
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                      "version": "MetricsItem/2.0",
                      "size": 1,
                      "chartType": 2,
                      "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                      "metricScope": 0,
                      "resourceParameter": "pcmeExtensionId",
                      "resourceIds": [
                        "{pcmeExtensionId}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "metrics": [
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-SessionEstablishmentAttempt",
                          "aggregation": 1,
                          "splitBy": null,
                          "columnName": ""
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-SessionEstablishmentSuccess",
                          "aggregation": 1
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-SessionEstablishmentFailure",
                          "aggregation": 1
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-SessionRelease",
                          "aggregation": 1
                        }
                      ],
                      "title": "Session Establishment/Release Procedures",
                      "gridFormatType": 1,
                      "tileSettings": {
                        "titleContent": {
                          "columnMatch": "Metric",
                          "formatter": 1
                        },
                        "leftContent": {
                          "columnMatch": "Value",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "colors",
                            "thresholdsGrid": [
                              {
                                "operator": "==",
                                "thresholdValue": "0",
                                "representation": "redBright",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "text": "{0}{1}"
                              }
                            ]
                          },
                          "numberFormat": {
                            "unit": 17,
                            "options": {
                              "style": "decimal",
                              "useGrouping": false,
                              "maximumFractionDigits": 0,
                              "maximumSignificantDigits": 3
                            },
                            "emptyValCustomText": "Error: metric not found"
                          }
                        },
                        "showBorder": false
                      },
                      "showOpenInMe": true,
                      "timeBrushParameterName": "timebrush",
                      "timeBrushExportOnlyWhenBrushed": true,
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Subscription",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Name",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource"
                            }
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "formatter": 1,
                            "numberFormat": {
                              "unit": 0,
                              "options": null
                            }
                          }
                        ],
                        "rowLimit": 10000,
                        "labelSettings": [
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "label": "Connected NodeBs (Sum)"
                          },
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "label": "Connected NodeBs Timeline"
                          }
                        ]
                      }
                    },
                    "conditionalVisibility": {
                      "parameterName": "pcmeExtensionId",
                      "comparison": "isNotEqualTo"
                    },
                    "showPin": true,
                    "name": "sessionmetrics"
                  },
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                      "version": "MetricsItem/2.0",
                      "size": 1,
                      "chartType": 2,
                      "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                      "metricScope": 0,
                      "resourceParameter": "pcmeExtensionId",
                      "resourceIds": [
                        "{pcmeExtensionId}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "metrics": [
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-ServiceRequestAttempt",
                          "aggregation": 1,
                          "splitBy": null,
                          "columnName": ""
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-ServiceRequestSuccess",
                          "aggregation": 1
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-ServiceRequestFailure",
                          "aggregation": 1
                        }
                      ],
                      "title": "Service Request Procedures",
                      "gridFormatType": 1,
                      "tileSettings": {
                        "titleContent": {
                          "columnMatch": "Metric",
                          "formatter": 1
                        },
                        "leftContent": {
                          "columnMatch": "Value",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "colors",
                            "thresholdsGrid": [
                              {
                                "operator": "==",
                                "thresholdValue": "0",
                                "representation": "redBright",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "text": "{0}{1}"
                              }
                            ]
                          },
                          "numberFormat": {
                            "unit": 17,
                            "options": {
                              "style": "decimal",
                              "useGrouping": false,
                              "maximumFractionDigits": 0,
                              "maximumSignificantDigits": 3
                            },
                            "emptyValCustomText": "Error: metric not found"
                          }
                        },
                        "showBorder": false
                      },
                      "showOpenInMe": true,
                      "timeBrushParameterName": "timebrush",
                      "timeBrushExportOnlyWhenBrushed": true,
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Subscription",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Name",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource"
                            }
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "formatter": 1,
                            "numberFormat": {
                              "unit": 0,
                              "options": null
                            }
                          }
                        ],
                        "rowLimit": 10000,
                        "labelSettings": [
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "label": "Connected NodeBs (Sum)"
                          },
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "label": "Connected NodeBs Timeline"
                          }
                        ]
                      }
                    },
                    "conditionalVisibility": {
                      "parameterName": "pcmeExtensionId",
                      "comparison": "isNotEqualTo"
                    },
                    "showPin": true,
                    "name": "servicerequestmetrics"
                  },
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                      "version": "MetricsItem/2.0",
                      "size": 1,
                      "chartType": 2,
                      "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                      "metricScope": 0,
                      "resourceParameter": "pcmeExtensionId",
                      "resourceIds": [
                        "{pcmeExtensionId}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "metrics": [
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-PagingAttempt",
                          "aggregation": 1,
                          "splitBy": null,
                          "columnName": ""
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-PagingFailure",
                          "aggregation": 1
                        }
                      ],
                      "title": "Paging Procedures",
                      "gridFormatType": 1,
                      "tileSettings": {
                        "titleContent": {
                          "columnMatch": "Metric",
                          "formatter": 1
                        },
                        "leftContent": {
                          "columnMatch": "Value",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "colors",
                            "thresholdsGrid": [
                              {
                                "operator": "==",
                                "thresholdValue": "0",
                                "representation": "redBright",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "text": "{0}{1}"
                              }
                            ]
                          },
                          "numberFormat": {
                            "unit": 17,
                            "options": {
                              "style": "decimal",
                              "useGrouping": false,
                              "maximumFractionDigits": 0,
                              "maximumSignificantDigits": 3
                            },
                            "emptyValCustomText": "Error: metric not found"
                          }
                        },
                        "showBorder": false
                      },
                      "showOpenInMe": true,
                      "timeBrushParameterName": "timebrush",
                      "timeBrushExportOnlyWhenBrushed": true,
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Subscription",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Name",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource"
                            }
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "formatter": 1,
                            "numberFormat": {
                              "unit": 0,
                              "options": null
                            }
                          }
                        ],
                        "rowLimit": 10000,
                        "labelSettings": [
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "label": "Connected NodeBs (Sum)"
                          },
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "label": "Connected NodeBs Timeline"
                          }
                        ]
                      }
                    },
                    "conditionalVisibility": {
                      "parameterName": "pcmeExtensionId",
                      "comparison": "isNotEqualTo"
                    },
                    "showPin": true,
                    "name": "pagingmetrics"
                  },
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                      "version": "MetricsItem/2.0",
                      "size": 1,
                      "chartType": 2,
                      "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                      "metricScope": 0,
                      "resourceParameter": "pcmeExtensionId",
                      "resourceIds": [
                        "{pcmeExtensionId}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "metrics": [
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-UeContextReleaseCommand",
                          "aggregation": 1,
                          "splitBy": null,
                          "columnName": ""
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-UeContextReleaseComplete",
                          "aggregation": 1
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-UeContextReleaseRequest",
                          "aggregation": 1
                        }
                      ],
                      "title": "UE Context Release Procedures",
                      "gridFormatType": 1,
                      "tileSettings": {
                        "titleContent": {
                          "columnMatch": "Metric",
                          "formatter": 1
                        },
                        "leftContent": {
                          "columnMatch": "Value",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "colors",
                            "thresholdsGrid": [
                              {
                                "operator": "==",
                                "thresholdValue": "0",
                                "representation": "redBright",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "text": "{0}{1}"
                              }
                            ]
                          },
                          "numberFormat": {
                            "unit": 17,
                            "options": {
                              "style": "decimal",
                              "useGrouping": false,
                              "maximumFractionDigits": 0,
                              "maximumSignificantDigits": 3
                            },
                            "emptyValCustomText": "Error: metric not found"
                          }
                        },
                        "showBorder": false
                      },
                      "showOpenInMe": true,
                      "timeBrushParameterName": "timebrush",
                      "timeBrushExportOnlyWhenBrushed": true,
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Subscription",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Name",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource"
                            }
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "formatter": 1,
                            "numberFormat": {
                              "unit": 0,
                              "options": null
                            }
                          }
                        ],
                        "rowLimit": 10000,
                        "labelSettings": [
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "label": "Connected NodeBs (Sum)"
                          },
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "label": "Connected NodeBs Timeline"
                          }
                        ]
                      }
                    },
                    "conditionalVisibility": {
                      "parameterName": "pcmeExtensionId",
                      "comparison": "isNotEqualTo"
                    },
                    "showPin": true,
                    "name": "uecontextreleasemetrics"
                  },
                  {
                    "type": 10,
                    "content": {
                      "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                      "version": "MetricsItem/2.0",
                      "size": 1,
                      "chartType": 2,
                      "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                      "metricScope": 0,
                      "resourceParameter": "pcmeExtensionId",
                      "resourceIds": [
                        "{pcmeExtensionId}"
                      ],
                      "timeContextFromParameter": "timespan",
                      "timeContext": {
                        "durationMs": 86400000
                      },
                      "metrics": [
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-XnHandoverAttempt",
                          "aggregation": 1,
                          "splitBy": null,
                          "columnName": ""
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-XnHandoverSuccess",
                          "aggregation": 1
                        },
                        {
                          "namespace": "microsoft.kubernetesconfiguration/extensions",
                          "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-XnHandoverFailure",
                          "aggregation": 1
                        }
                      ],
                      "title": "Handover Procedures",
                      "gridFormatType": 1,
                      "tileSettings": {
                        "titleContent": {
                          "columnMatch": "Metric",
                          "formatter": 1
                        },
                        "leftContent": {
                          "columnMatch": "Value",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "colors",
                            "thresholdsGrid": [
                              {
                                "operator": "==",
                                "thresholdValue": "0",
                                "representation": "redBright",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "text": "{0}{1}"
                              }
                            ]
                          },
                          "numberFormat": {
                            "unit": 17,
                            "options": {
                              "style": "decimal",
                              "useGrouping": false,
                              "maximumFractionDigits": 0,
                              "maximumSignificantDigits": 3
                            },
                            "emptyValCustomText": "Error: metric not found"
                          }
                        },
                        "showBorder": false
                      },
                      "showOpenInMe": true,
                      "timeBrushParameterName": "timebrush",
                      "timeBrushExportOnlyWhenBrushed": true,
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Subscription",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Name",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource"
                            }
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "formatter": 1,
                            "numberFormat": {
                              "unit": 0,
                              "options": null
                            }
                          }
                        ],
                        "rowLimit": 10000,
                        "labelSettings": [
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                            "label": "Connected NodeBs (Sum)"
                          },
                          {
                            "columnId": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                            "label": "Connected NodeBs Timeline"
                          }
                        ]
                      }
                    },
                    "conditionalVisibility": {
                      "parameterName": "pcmeExtensionId",
                      "comparison": "isNotEqualTo"
                    },
                    "showPin": true,
                    "name": "handovermetrics"
                  }
                ]
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "pccpMetrics"
              },
              "name": "pccpMetrics"
            },
            {
              "type": 1,
              "content": {
                "json": "No Azure Stack Edge device connected to this Packet Core.",
                "style": "warning"
              },
              "conditionalVisibilities": [
                {
                  "parameterName": "tab",
                  "comparison": "isEqualTo",
                  "value": "aseStatus"
                },
                {
                  "parameterName": "ase",
                  "comparison": "isEqualTo"
                }
              ],
              "name": "aseError"
            },
            {
              "type": 12,
              "content": {
                "version": "NotebookGroup/1.0",
                "groupType": "editable",
                "items": [
                  {
                    "type": 9,
                    "content": {
                      "version": "KqlParameterItem/1.0",
                      "parameters": [
                        {
                          "id": "bf4560f8-498d-4606-be3b-e2cce8787ee9",
                          "version": "KqlParameterItem/1.0",
                          "name": "simgroup",
                          "label": "SIM Group",
                          "type": 5,
                          "description": "Select the SIM Group to view",
                          "isRequired": true,
                          "query": "resources\r\n| where type =~ \"Microsoft.MobileNetwork/simgroups\"\r\n| where properties.mobileNetwork.id =~ \"{mobilenetwork}\"\r\n| project id, selected=\"true\"",
                          "crossComponentResources": [
                            "value::selected"
                          ],
                          "typeSettings": {
                            "additionalResourceOptions": [],
                            "showDefault": false
                          },
                          "timeContext": {
                            "durationMs": 86400000
                          },
                          "queryType": 1,
                          "resourceType": "microsoft.resourcegraph/resources",
                          "value": "/subscriptions/c5f30b9d-272b-46ea-8bf6-ec6c9c392f35/resourceGroups/APRICOT-Lab-RG-1/providers/Microsoft.MobileNetwork/simGroups/Askey_Dongles"
                        }
                      ],
                      "style": "pills",
                      "queryType": 0,
                      "resourceType": "microsoft.resourcegraph/resources"
                    },
                    "name": "parameters - 7"
                  },
                  {
                    "type": 3,
                    "content": {
                      "version": "KqlItem/1.0",
                      "query": "{\"version\":\"ARMEndpoint/1.0\",\"data\":null,\"headers\":[],\"method\":\"GET\",\"path\":\"{simgroup}/sims\",\"urlParams\":[{\"key\":\"api-version\",\"value\":\"2022-11-01\"}],\"batchDisabled\":false,\"transformers\":[{\"type\":\"jsonpath\",\"settings\":{\"tablePath\":\"$.value[?(@.properties.siteProvisioningState[\\\"{siteLowerCase}\\\"]!=\\\"NotApplicable\\\")]\",\"columns\":[{\"path\":\"$.id\",\"columnid\":\"SIM\",\"columnType\":\"string\"},{\"path\":\"$.properties.internationalMobileSubscriberIdentity\",\"columnid\":\"IMSI\",\"columnType\":\"string\"},{\"path\":\"$.properties.simPolicy.id\",\"columnid\":\"Policy\"},{\"path\":\"$.properties.siteProvisioningState[\\\"{siteLowerCase}\\\"]\",\"columnid\":\"Provsioning State\"},{\"path\":\"$.properties.staticIpConfiguration..staticIp.ipv4Address\",\"columnid\":\"Static IP\"}]}}]}",
                      "size": 1,
                      "title": "SIMs provisioned to this Site",
                      "noDataMessage": "No SIMs provisioned to this Site.",
                      "noDataMessageStyle": 4,
                      "queryType": 12,
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "Provsioning State",
                            "formatter": 18,
                            "formatOptions": {
                              "thresholdsOptions": "icons",
                              "thresholdsGrid": [
                                {
                                  "operator": "==",
                                  "thresholdValue": "Provisioned",
                                  "representation": "success",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Failed",
                                  "representation": "failed",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Adding",
                                  "representation": "pending",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Updating",
                                  "representation": "pending",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Deleting",
                                  "representation": "pending",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "NotApplicable",
                                  "representation": "disabled",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "Default",
                                  "thresholdValue": null,
                                  "representation": "unknown",
                                  "text": "{0}{1}"
                                }
                              ]
                            }
                          }
                        ],
                        "rowLimit": 1000
                      }
                    },
                    "name": "query - 4"
                  },
                  {
                    "type": 3,
                    "content": {
                      "version": "KqlItem/1.0",
                      "query": "resources\r\n| where type =~ \"microsoft.mobilenetwork/mobilenetworks/simpolicies\"\r\n| where id startswith \"{mobilenetwork}/simPolicies/\"\r\n| extend currentSiteProvisioningState = tostring(properties.siteProvisioningState[\"{siteLowerCase}\"])\r\n| where currentSiteProvisioningState != \"\"\r\n| where currentSiteProvisioningState != \"NotApplicable\"\r\n| summarize count() by currentSiteProvisioningState",
                      "size": 4,
                      "title": "SIM Policies",
                      "noDataMessage": "No SIM Policies provisioned to this Site.",
                      "noDataMessageStyle": 4,
                      "queryType": 1,
                      "resourceType": "microsoft.resourcegraph/resources",
                      "crossComponentResources": [
                        "value::selected"
                      ],
                      "visualization": "tiles",
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "name",
                            "formatter": 1
                          },
                          {
                            "columnMatch": "SIM Policy",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource",
                              "showIcon": true
                            }
                          },
                          {
                            "columnMatch": "Provisioning State",
                            "formatter": 18,
                            "formatOptions": {
                              "thresholdsOptions": "icons",
                              "thresholdsGrid": [
                                {
                                  "operator": "==",
                                  "thresholdValue": "Provisioned",
                                  "representation": "success",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Failed",
                                  "representation": "failed",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Adding",
                                  "representation": "pending",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Updating",
                                  "representation": "pending",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Deleting",
                                  "representation": "pending",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "NotApplicable",
                                  "representation": "disabled",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "Default",
                                  "thresholdValue": null,
                                  "representation": "more",
                                  "text": "{0}{1}"
                                }
                              ]
                            }
                          },
                          {
                            "columnMatch": "Slice",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource",
                              "showIcon": true
                            }
                          },
                          {
                            "columnMatch": "sliceName",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Data Network",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource",
                              "showIcon": true
                            }
                          },
                          {
                            "columnMatch": "Group",
                            "formatter": 1
                          },
                          {
                            "columnMatch": "dataNetworkName",
                            "formatter": 5
                          }
                        ],
                        "hierarchySettings": {
                          "treeType": 1,
                          "groupBy": [
                            "name",
                            "sliceName"
                          ],
                          "expandTopLevel": false
                        },
                        "sortBy": [
                          {
                            "itemKey": "$gen_link_SIM Policy_1",
                            "sortOrder": 1
                          }
                        ]
                      },
                      "sortBy": [
                        {
                          "itemKey": "$gen_link_SIM Policy_1",
                          "sortOrder": 1
                        }
                      ],
                      "tileSettings": {
                        "titleContent": {
                          "columnMatch": "currentSiteProvisioningState",
                          "formatter": 18,
                          "formatOptions": {
                            "thresholdsOptions": "icons",
                            "thresholdsGrid": [
                              {
                                "operator": "==",
                                "thresholdValue": "Provisioned",
                                "representation": "success",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "==",
                                "thresholdValue": "Failed",
                                "representation": "failed",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "==",
                                "thresholdValue": "Adding",
                                "representation": "pending",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "==",
                                "thresholdValue": "Updating",
                                "representation": "pending",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "==",
                                "thresholdValue": "Deleting",
                                "representation": "pending",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "==",
                                "thresholdValue": "NotApplicable",
                                "representation": "disabled",
                                "text": "{0}{1}"
                              },
                              {
                                "operator": "Default",
                                "thresholdValue": null,
                                "representation": "unknown",
                                "text": "{0}{1}"
                              }
                            ]
                          }
                        },
                        "leftContent": {
                          "columnMatch": "count_",
                          "formatter": 12,
                          "formatOptions": {
                            "palette": "blue"
                          }
                        },
                        "showBorder": false
                      }
                    },
                    "name": "query - 2 - Copy"
                  },
                  {
                    "type": 3,
                    "content": {
                      "version": "KqlItem/1.0",
                      "query": "resources\r\n| where type =~ \"microsoft.mobilenetwork/mobilenetworks/simpolicies\"\r\n| where id startswith \"{mobilenetwork}/simPolicies/\"\r\n| extend currentSiteProvisioningState = tostring(properties.siteProvisioningState[\"{site}\"])\r\n| where currentSiteProvisioningState != \"\"\r\n| where currentSiteProvisioningState != \"NotApplicable\"\r\n| extend sliceConfigurations = todynamic(properties.sliceConfigurations)\r\n| mv-expand sliceConfigurations\r\n| extend slice=sliceConfigurations.slice.id\r\n| extend sliceName=split(slice,\"/\")[-1]\r\n| extend dataNetworkConfigurations = todynamic(sliceConfigurations.dataNetworkConfigurations)\r\n| mv-expand dataNetworkConfigurations\r\n| extend dataNetwork = dataNetworkConfigurations.dataNetwork.id\r\n| project [\"SIM Policy\"]=id, name, [\"Provisioning State\"]=currentSiteProvisioningState, [\"UE Downlink AMBR\"]=properties.ueAmbr.downlink, [\"UE Uplink AMBR\"]=properties.ueAmbr.uplink, [\"Slice\"]=slice, sliceName, [\"Default Data Network\"]=sliceConfigurations.defaultDataNetwork.id, [\"Data Network\"]=dataNetwork, [\"Session Downlink AMBR\"]=dataNetworkConfigurations.sessionAmbr.downlink, [\"Session Uplink AMBR\"]=dataNetworkConfigurations.sessionAmbr.uplink",
                      "size": 1,
                      "noDataMessage": " ",
                      "queryType": 1,
                      "resourceType": "microsoft.resourcegraph/resources",
                      "crossComponentResources": [
                        "value::selected"
                      ],
                      "gridSettings": {
                        "formatters": [
                          {
                            "columnMatch": "name",
                            "formatter": 1
                          },
                          {
                            "columnMatch": "SIM Policy",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource",
                              "showIcon": true
                            }
                          },
                          {
                            "columnMatch": "Provisioning State",
                            "formatter": 18,
                            "formatOptions": {
                              "thresholdsOptions": "icons",
                              "thresholdsGrid": [
                                {
                                  "operator": "==",
                                  "thresholdValue": "Provisioned",
                                  "representation": "success",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Failed",
                                  "representation": "failed",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Adding",
                                  "representation": "pending",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Updating",
                                  "representation": "pending",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "Deleting",
                                  "representation": "pending",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "==",
                                  "thresholdValue": "NotApplicable",
                                  "representation": "disabled",
                                  "text": "{0}{1}"
                                },
                                {
                                  "operator": "Default",
                                  "thresholdValue": null,
                                  "representation": "more",
                                  "text": "{0}{1}"
                                }
                              ]
                            }
                          },
                          {
                            "columnMatch": "Slice",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource",
                              "showIcon": true
                            }
                          },
                          {
                            "columnMatch": "sliceName",
                            "formatter": 5
                          },
                          {
                            "columnMatch": "Data Network",
                            "formatter": 13,
                            "formatOptions": {
                              "linkTarget": "Resource",
                              "showIcon": true
                            }
                          },
                          {
                            "columnMatch": "Group",
                            "formatter": 1
                          },
                          {
                            "columnMatch": "dataNetworkName",
                            "formatter": 5
                          }
                        ],
                        "hierarchySettings": {
                          "treeType": 1,
                          "groupBy": [
                            "name",
                            "sliceName"
                          ],
                          "expandTopLevel": false
                        },
                        "sortBy": [
                          {
                            "itemKey": "$gen_link_SIM Policy_1",
                            "sortOrder": 1
                          }
                        ]
                      },
                      "sortBy": [
                        {
                          "itemKey": "$gen_link_SIM Policy_1",
                          "sortOrder": 1
                        }
                      ]
                    },
                    "name": "query - 2"
                  },
                  {
                    "type": 3,
                    "content": {
                      "version": "KqlItem/1.0",
                      "query": "resources\r\n| where type =~ \"microsoft.mobilenetwork/mobilenetworks/services\"\r\n| where id startswith \"{mobilenetwork}/services\"\r\n| project [\"Service\"]=id, [\"Precedence\"]=toint(properties.servicePrecedence)\r\n| order by [\"Precedence\"]",
                      "size": 4,
                      "title": "Services",
                      "queryType": 1,
                      "resourceType": "microsoft.resourcegraph/resources",
                      "crossComponentResources": [
                        "value::selected"
                      ]
                    },
                    "name": "query - 3"
                  }
                ]
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "provisioningInfo"
              },
              "name": "SIMs"
            },
            {
              "type": 1,
              "content": {
                "json": "No connected cluster - Packet Core is not installed.",
                "style": "warning"
              },
              "conditionalVisibilities": [
                {
                  "parameterName": "tab",
                  "comparison": "isEqualTo",
                  "value": "clusterStatus"
                },
                {
                  "parameterName": "kubernetesCluster",
                  "comparison": "isEqualTo"
                }
              ],
              "name": "Cluster error"
            },
            {
              "type": 10,
              "content": {
                "chartId": "workbook377076a4-ef35-4876-a04a-076f54f48056",
                "version": "MetricsItem/2.0",
                "size": 0,
                "chartType": 1,
                "resourceType": "microsoft.mobilenetwork/radioaccessnetworks",
                "metricScope": 0,
                "resourceParameter": "ran",
                "resourceIds": [
                  "{ran}"
                ],
                "timeContextFromParameter": "timespan",
                "timeContext": {
                  "durationMs": 86400000
                },
                "timeGrain": "PT15M",
                "metrics": [
                  {
                    "namespace": "microsoft.mobilenetwork/radioaccessnetworks",
                    "metric": "microsoft.mobilenetwork/radioaccessnetworks-Traffic-ActiveUsers",
                    "aggregation": 4,
                    "splitBy": "APIdentifier"
                  }
                ],
                "title": "Average Active Users Per Access Point",
                "showOpenInMe": true,
                "timeBrushParameterName": "timebrush",
                "gridSettings": {
                  "rowLimit": 10000
                }
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ranMetrics"
              },
              "customWidth": "50",
              "showPin": true,
              "name": "Test RAN metrics graph"
            },
            {
              "type": 10,
              "content": {
                "chartId": "workbookf8dd8de0-d1a7-46eb-a350-7ef588c92788",
                "version": "MetricsItem/2.0",
                "size": 0,
                "chartType": 1,
                "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                "metricScope": 0,
                "resourceParameter": "pcmeExtensionId",
                "resourceIds": [
                  "{pcmeExtensionId}"
                ],
                "timeContextFromParameter": "timespan",
                "timeContext": {
                  "durationMs": 86400000
                },
                "timeGrain": "PT15M",
                "metrics": [
                  {
                    "namespace": "microsoft.kubernetesconfiguration/extensions",
                    "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-RegisteredSubscribersConnected",
                    "aggregation": 3,
                    "splitBy": null
                  }
                ],
                "title": "Max Subscribers Connected to Packet Core",
                "gridFormatType": 1,
                "tileSettings": {
                  "titleContent": {
                    "columnMatch": "Metric",
                    "formatter": 13,
                    "formatOptions": {
                      "linkTarget": null,
                      "showIcon": false
                    }
                  },
                  "leftContent": {
                    "columnMatch": "Value",
                    "formatter": 12,
                    "formatOptions": {
                      "palette": "auto"
                    },
                    "numberFormat": {
                      "unit": 17,
                      "options": {
                        "maximumSignificantDigits": 3,
                        "maximumFractionDigits": 2
                      }
                    }
                  },
                  "showBorder": false
                },
                "mapSettings": {
                  "locInfo": "AzureResource",
                  "sizeSettings": "Value",
                  "sizeAggregation": "Sum",
                  "legendMetric": "Value",
                  "legendAggregation": "Sum",
                  "itemColorSettings": {
                    "type": "heatmap",
                    "colorAggregation": "Sum",
                    "nodeColorField": "Value",
                    "heatmapPalette": "greenRed"
                  },
                  "locInfoColumn": "Name"
                },
                "graphSettings": {
                  "type": 0,
                  "topContent": {
                    "columnMatch": "Subscription",
                    "formatter": 1
                  },
                  "centerContent": {
                    "columnMatch": "Value",
                    "formatter": 1,
                    "numberFormat": {
                      "unit": 17,
                      "options": {
                        "maximumSignificantDigits": 3,
                        "maximumFractionDigits": 2
                      }
                    }
                  }
                },
                "showOpenInMe": true,
                "timeBrushParameterName": "timebrush",
                "timeBrushExportOnlyWhenBrushed": true,
                "gridSettings": {
                  "formatters": [
                    {
                      "columnMatch": "Subscription",
                      "formatter": 5
                    },
                    {
                      "columnMatch": "Name",
                      "formatter": 13,
                      "formatOptions": {
                        "linkTarget": "Resource"
                      }
                    },
                    {
                      "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs Timeline",
                      "formatter": 5
                    },
                    {
                      "columnMatch": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                      "formatter": 1,
                      "numberFormat": {
                        "unit": 0,
                        "options": null
                      }
                    },
                    {
                      "columnMatch": "Metric",
                      "formatter": 1
                    },
                    {
                      "columnMatch": "Aggregation",
                      "formatter": 5
                    },
                    {
                      "columnMatch": "Value",
                      "formatter": 1
                    },
                    {
                      "columnMatch": "Timeline",
                      "formatter": 9
                    },
                    {
                      "columnMatch": "Bandwidth (bps)",
                      "formatter": 1,
                      "numberFormat": {
                        "unit": 0,
                        "options": null
                      }
                    }
                  ],
                  "rowLimit": 10000,
                  "labelSettings": [
                    {
                      "columnId": "Bandwidth (bps)",
                      "label": "Bandwidth (bps)"
                    },
                    {
                      "columnId": "Bandwidth (bps) Timeline",
                      "label": "Bandwidth (bps) Timeline"
                    }
                  ]
                }
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ranMetrics"
              },
              "customWidth": "50",
              "showPin": true,
              "name": "connected devices"
            },
            {
              "type": 10,
              "content": {
                "chartId": "workbookf47310f8-c43d-4aad-8382-403e0c6c8f7e",
                "version": "MetricsItem/2.0",
                "size": 0,
                "chartType": 1,
                "resourceType": "microsoft.mobilenetwork/radioaccessnetworks",
                "metricScope": 0,
                "resourceParameter": "ran",
                "resourceIds": [
                  "{ran}"
                ],
                "timeContextFromParameter": "timespan",
                "timeContext": {
                  "durationMs": 0
                },
                "timeGrain": "PT15M",
                "metrics": [
                  {
                    "namespace": "microsoft.mobilenetwork/radioaccessnetworks",
                    "metric": "microsoft.mobilenetwork/radioaccessnetworks-Traffic-OnlineStatus",
                    "aggregation": 3,
                    "splitBy": "APIdentifier"
                  }
                ],
                "title": "Access Points Online",
                "showOpenInMe": true,
                "timeBrushParameterName": "timebrush",
                "gridSettings": {
                  "rowLimit": 10000
                }
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ranMetrics"
              },
              "customWidth": "50",
              "showPin": true,
              "name": "Access Points Online"
            },
            {
              "type": 10,
              "content": {
                "chartId": "workbook42530009-aea1-43b9-a4a9-703fc56ad483",
                "version": "MetricsItem/2.0",
                "size": 0,
                "chartType": 1,
                "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                "metricScope": 0,
                "resourceParameter": "pcmeExtensionId",
                "resourceIds": [
                  "{pcmeExtensionId}"
                ],
                "timeContextFromParameter": "timespan",
                "timeContext": {
                  "durationMs": 0
                },
                "timeGrain": "PT15M",
                "metrics": [
                  {
                    "namespace": "microsoft.kubernetesconfiguration/extensions",
                    "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-ConnectedNodebs",
                    "aggregation": 3,
                    "splitBy": null
                  }
                ],
                "title": "Access Points Connected to Packet Core",
                "showOpenInMe": true,
                "timeBrushParameterName": "timebrush",
                "gridSettings": {
                  "rowLimit": 10000
                }
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ranMetrics"
              },
              "customWidth": "50",
              "showPin": true,
              "name": "metric - 3"
            },
            {
              "type": 10,
              "content": {
                "chartId": "workbook4e8f0f07-e93f-409e-ad27-3b99e2bed328",
                "version": "MetricsItem/2.0",
                "size": 0,
                "chartType": 1,
                "resourceType": "microsoft.mobilenetwork/radioaccessnetworks",
                "metricScope": 0,
                "resourceParameter": "ran",
                "resourceIds": [
                  "{ran}"
                ],
                "timeContextFromParameter": "timespan",
                "timeContext": {
                  "durationMs": 86400000
                },
                "timeGrain": "PT15M",
                "metrics": [
                  {
                    "namespace": "microsoft.mobilenetwork/radioaccessnetworks",
                    "metric": "microsoft.mobilenetwork/radioaccessnetworks-Traffic-ConnectionHandoverSuccesses",
                    "aggregation": 4,
                    "splitBy": "APIdentifier"
                  }
                ],
                "title": "Successful Connection Handovers from RAN",
                "showOpenInMe": true,
                "timeBrushParameterName": "timebrush",
                "gridSettings": {
                  "rowLimit": 10000
                }
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ranMetrics"
              },
              "customWidth": "50",
              "showPin": true,
              "name": "metric - 11"
            },
            {
              "type": 10,
              "content": {
                "chartId": "workbook4e8f0f07-e93f-409e-ad27-3b99e2bed328",
                "version": "MetricsItem/2.0",
                "size": 0,
                "chartType": 1,
                "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                "metricScope": 0,
                "resourceParameter": "pcmeExtensionId",
                "resourceIds": [
                  "{pcmeExtensionId}"
                ],
                "timeContextFromParameter": "timespan",
                "timeContext": {
                  "durationMs": 86400000
                },
                "timeGrain": "PT15M",
                "metrics": [
                  {
                    "namespace": "microsoft.kubernetesconfiguration/extensions",
                    "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-XnHandoverSuccess",
                    "aggregation": 1,
                    "splitBy": null
                  }
                ],
                "title": "Successful Connection Handovers on Packet Core",
                "showOpenInMe": true,
                "timeBrushParameterName": "timebrush",
                "gridSettings": {
                  "rowLimit": 10000
                }
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ranMetrics"
              },
              "customWidth": "50",
              "showPin": true,
              "name": "metric - 11 - Copy"
            },
            {
              "type": 10,
              "content": {
                "chartId": "workbook4e8f0f07-e93f-409e-ad27-3b99e2bed328",
                "version": "MetricsItem/2.0",
                "size": 0,
                "chartType": 3,
                "resourceType": "microsoft.mobilenetwork/radioaccessnetworks",
                "metricScope": 0,
                "resourceParameter": "ran",
                "resourceIds": [
                  "{ran}"
                ],
                "timeContextFromParameter": "timespan",
                "timeContext": {
                  "durationMs": 86400000
                },
                "timeGrain": "PT15M",
                "metrics": [
                  {
                    "namespace": "microsoft.mobilenetwork/radioaccessnetworks",
                    "metric": "microsoft.mobilenetwork/radioaccessnetworks-Traffic-TransmitThroughput",
                    "aggregation": 4,
                    "splitBy": "APIdentifier"
                  }
                ],
                "title": "Transmit Throughput (Uplink) for RAN Access Points",
                "showOpenInMe": true,
                "timeBrushParameterName": "timebrush",
                "gridSettings": {
                  "rowLimit": 10000
                }
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ranMetrics"
              },
              "customWidth": "50",
              "showPin": true,
              "name": "metric - 11 - Copy"
            },
            {
              "type": 10,
              "content": {
                "chartId": "workbook42530009-aea1-43b9-a4a9-703fc56ad483",
                "version": "MetricsItem/2.0",
                "size": 0,
                "chartType": 3,
                "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                "metricScope": 0,
                "resourceParameter": "pcmeExtensionId",
                "resourceIds": [
                  "{pcmeExtensionId}"
                ],
                "timeContextFromParameter": "timespan",
                "timeContext": {
                  "durationMs": 86400000
                },
                "timeGrain": "PT15M",
                "metrics": [
                  {
                    "namespace": "microsoft.kubernetesconfiguration/extensions",
                    "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-UserPlaneBandwidth",
                    "aggregation": 4,
                    "splitBy": null
                  }
                ],
                "title": "User Plane Throughput (Uplink) on Packet Core (Sum of N6 traffic)",
                "showOpenInMe": true,
                "filters": [
                  {
                    "id": "1",
                    "key": "Direction",
                    "operator": 0,
                    "values": [
                      "rx"
                    ]
                  },
                  {
                    "id": "2",
                    "key": "Interface",
                    "operator": 0,
                    "values": [
                      "n3"
                    ]
                  }
                ],
                "timeBrushParameterName": "timebrush",
                "gridSettings": {
                  "rowLimit": 10000
                }
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ranMetrics"
              },
              "customWidth": "50",
              "showPin": true,
              "name": "metric - 3 - Copy"
            },
            {
              "type": 10,
              "content": {
                "chartId": "workbookb46081b6-dadd-47c6-be1d-a85bf8433e4f",
                "version": "MetricsItem/2.0",
                "size": 0,
                "chartType": 3,
                "resourceType": "microsoft.mobilenetwork/radioaccessnetworks",
                "metricScope": 0,
                "resourceParameter": "ran",
                "resourceIds": [
                  "{ran}"
                ],
                "timeContextFromParameter": "timespan",
                "timeContext": {
                  "durationMs": 86400000
                },
                "timeGrain": "PT15M",
                "metrics": [
                  {
                    "namespace": "microsoft.mobilenetwork/radioaccessnetworks",
                    "metric": "microsoft.mobilenetwork/radioaccessnetworks-Traffic-ReceiveThroughput",
                    "aggregation": 4,
                    "splitBy": "APIdentifier"
                  }
                ],
                "title": "Receive Throughput (Downlink) for RAN Access Points",
                "showOpenInMe": true,
                "timeBrushParameterName": "timebrush",
                "gridSettings": {
                  "rowLimit": 10000
                }
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ranMetrics"
              },
              "customWidth": "50",
              "showPin": true,
              "name": "metric - 9"
            },
            {
              "type": 10,
              "content": {
                "chartId": "workbook42530009-aea1-43b9-a4a9-703fc56ad483",
                "version": "MetricsItem/2.0",
                "size": 0,
                "chartType": 3,
                "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                "metricScope": 0,
                "resourceParameter": "pcmeExtensionId",
                "resourceIds": [
                  "{pcmeExtensionId}"
                ],
                "timeContextFromParameter": "timespan",
                "timeContext": {
                  "durationMs": 86400000
                },
                "timeGrain": "PT15M",
                "metrics": [
                  {
                    "namespace": "microsoft.kubernetesconfiguration/extensions",
                    "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-UserPlaneBandwidth",
                    "aggregation": 4,
                    "splitBy": null
                  }
                ],
                "title": "User Plane Throughput (Downlink) on Packet Core",
                "showOpenInMe": true,
                "filters": [
                  {
                    "id": "3",
                    "key": "Interface",
                    "operator": 0,
                    "values": [
                      "n3"
                    ]
                  },
                  {
                    "id": "2",
                    "key": "Direction",
                    "operator": 0,
                    "values": [
                      "tx"
                    ]
                  }
                ],
                "timeBrushParameterName": "timebrush",
                "gridSettings": {
                  "rowLimit": 10000
                }
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ranMetrics"
              },
              "customWidth": "50",
              "showPin": true,
              "name": "metric - 3 - Copy - Copy"
            },
            {
              "type": 10,
              "content": {
                "chartId": "workbook5f3f0f84-7a82-4285-8531-05e0b70aca26",
                "version": "MetricsItem/2.0",
                "size": 0,
                "chartType": 3,
                "resourceType": "microsoft.mobilenetwork/radioaccessnetworks",
                "metricScope": 0,
                "resourceParameter": "ran",
                "resourceIds": [
                  "{ran}"
                ],
                "timeContextFromParameter": "timespan",
                "timeContext": {
                  "durationMs": 86400000
                },
                "metrics": [
                  {
                    "namespace": "microsoft.mobilenetwork/radioaccessnetworks",
                    "metric": "microsoft.mobilenetwork/radioaccessnetworks-Traffic-ConnectionsEstablished",
                    "aggregation": 1,
                    "splitBy": "APIdentifier"
                  }
                ],
                "title": "Connections Established",
                "showOpenInMe": true,
                "timeBrushParameterName": "timebrush",
                "gridSettings": {
                  "rowLimit": 10000
                }
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ranMetrics"
              },
              "customWidth": "50",
              "showPin": true,
              "name": "metric - 10"
            },
            {
              "type": 10,
              "content": {
                "chartId": "workbookdcce6fbb-3ae7-49a0-86d6-f1440faa8e4f",
                "version": "MetricsItem/2.0",
                "size": 0,
                "chartType": 3,
                "resourceType": "microsoft.kubernetes/connectedclusters/providers/extensions",
                "metricScope": 0,
                "resourceParameter": "pcmeExtensionId",
                "resourceIds": [
                  "{pcmeExtensionId}"
                ],
                "timeContextFromParameter": "timespan",
                "timeContext": {
                  "durationMs": 86400000
                },
                "timeGrain": "PT15M",
                "metrics": [
                  {
                    "namespace": "microsoft.kubernetesconfiguration/extensions",
                    "metric": "microsoft.kubernetesconfiguration/extensions-Traffic-ServiceRequestSuccess",
                    "aggregation": 1,
                    "splitBy": null
                  }
                ],
                "title": "Successful Service Requests",
                "showOpenInMe": true,
                "timeBrushParameterName": "timebrush",
                "gridSettings": {
                  "rowLimit": 10000
                }
              },
              "conditionalVisibility": {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ranMetrics"
              },
              "customWidth": "50",
              "showPin": true,
              "name": "metric - 11"
            }
          ],
          "$schema": "https://raw.githubusercontent.com/microsoft/Application-Insights-Workbooks/master/schema/workbook.json"
        }
      }
    }
  ]
}